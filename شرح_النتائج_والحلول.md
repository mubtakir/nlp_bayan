# ๐ ุดุฑุญ ุงููุชุงุฆุฌ ุงูุญุงููุฉ ูุงูุญููู

## ๐ ูุง ุงูุฐู ูุญุฏุซุ

### ุงููุชุงุฆุฌ ุงูุชู ุฑุฃูุชูุง:

```
ุงููุต: "ุฃุญูุฏ ุถุฑุจ ุงููุฑุฉ"
โโ ุงูุฐุฑุงุช ุงููุณุชุฎุฑุฌุฉ:
โ  โข Entity: You
โ  โข Entity: a
โ  โข Action: are
โโ ุงูุชุญูู: โ ูุฌุญ
โโ ุงููุชูุฌุฉ ุงูููุงุฆูุฉ: "You are a"
```

### โ ููุงุฐุง ุงููุชุงุฆุฌ ุบูุฑ ุฏูููุฉุ

**ุงูุณุจุจ**: ุงููุถุน ุงููุณุชูู ูุนูู ุนูู **ูุฑุญูุชูู**:

1. **ุงููุฑุญูุฉ ุงูุฃููู** (IstinbatEngine): โ **ุชุนูู ุจุดูู ุตุญูุญ**
   - ูุญูู ุงููุต ุงูุนุฑุจู: "ุฃุญูุฏ ุถุฑุจ ุงููุฑุฉ"
   - ูุณุชุฎุฑุฌ: ุงููุงุนู (ุฃุญูุฏ)ุ ุงููุนู (ุถุฑุจ)ุ ุงูููุนูู ุจู (ุงููุฑุฉ)
   - ูุณุชูุชุฌ ุงููุชุงุฆุฌ ูู ูุงุนุฏุฉ ุงููุนุฑูุฉ

2. **ุงููุฑุญูุฉ ุงูุซุงููุฉ** (LLM Gateway): โ๏ธ **ููุง ุงููุดููุฉ**
   - ูุญุงูู ุชุญููู ุงููุชุงุฆุฌ ุฅูู "Atoms" ููููุงุฐุฌ ุงููุบููุฉ
   - ููู ุจุฏูู ูููุฐุฌ ูุบูู ุฎุงุฑุฌูุ ูุนูุฏ ูุตุงู ุงูุชุฑุงุถูุงู

---

## โ ุงูุญู 1: ุงุณุชุฎุฏุงู IstinbatEngine ูุจุงุดุฑุฉ (ููุตู ุจู)

### ๐ฏ ูุฐุง ูู ุงูุทุฑูู ุงูุตุญูุญ ูููุถุน ุงููุณุชูู!

```python
from bayan.bayan.istinbat_engine import IstinbatEngine

# ุฅูุดุงุก ุงููุญุฑู
engine = IstinbatEngine()

# ูุนุงูุฌุฉ ุงููุต
result = engine.process("ุฃุญูุฏ ุถุฑุจ ุงููุฑุฉ")

# ุนุฑุถ ุงููุชุงุฆุฌ ุงูุตุญูุญุฉ
if result:
    print(f"ุงูุญุฏุซ: {result.equation.event}")
    print(f"ุงูููุงูุงุช: {list(result.equation.entities.keys())}")
    print(f"ุงููุชุงุฆุฌ:")
    for consequence in result.consequences:
        print(f"  โข {consequence.entity_name}:")
        for state, change in consequence.state_changes.items():
            print(f"    - {state}: {change}")
```

### ๐ ุงููุชูุฌุฉ ุงููุชููุนุฉ:

```
ุงูุญุฏุซ: ุถุฑุจ
ุงูููุงูุงุช: ['ุฃุญูุฏ', 'ุงููุฑุฉ']
ุงููุชุงุฆุฌ:
  โข ุฃุญูุฏ:
    - ุบุถุจ: +0.2
    - ุชุนุจ: +0.1
  โข ุงููุฑุฉ:
    - ุฃูู: +0.6
    - ุณุนุงุฏุฉ: -0.4
```

---

## โ ุงูุญู 2: ุงุณุชุฎุฏุงู ุงููุญูู ุงููุบูู ูุจุงุดุฑุฉ

```python
from bayan.bayan.linguistic_equation import LinguisticEquationParser, KnowledgeBase

# ุฅูุดุงุก ูุงุนุฏุฉ ุงููุนุฑูุฉ ูุงููุญูู
kb = KnowledgeBase()
parser = LinguisticEquationParser(kb)

# ุชุญููู ุงูุฌููุฉ
equation = parser.parse("ุฃุญูุฏ ุถุฑุจ ุงููุฑุฉ")

# ุนุฑุถ ุงููุชุงุฆุฌ
print(f"ุงูุฌููุฉ ุงูุทุจูุนูุฉ: {equation.to_natural_language()}")
print(f"ุงูุตูุบุฉ ุงูุฑุณููุฉ: {equation.to_formal_notation()}")
print(f"\nุงููุชุงุฆุฌ ุงููุณุชูุชุฌุฉ:")
for result in equation.results:
    print(f"  โข {result}")
```

### ๐ ุงููุชูุฌุฉ ุงููุชููุนุฉ:

```
ุงูุฌููุฉ ุงูุทุจูุนูุฉ: ุฃุญูุฏ ุถุฑุจ ุงููุฑุฉ
ุงูุตูุบุฉ ุงูุฑุณููุฉ: ุฃุญูุฏ(ูุงุนู) + ุงููุฑุฉ(ููุนูู_ุจู) + ุถุฑุจ = 
  ุฃุญูุฏ [ุบุถุจ: +0.2, ุชุนุจ: +0.1] + ุงููุฑุฉ [ุฃูู: +0.6, ุณุนุงุฏุฉ: -0.4]

ุงููุชุงุฆุฌ ุงููุณุชูุชุฌุฉ:
  โข ุฃุญูุฏ [ุบุถุจ: +0.2, ุชุนุจ: +0.1]
  โข ุงููุฑุฉ [ุฃูู: +0.6, ุณุนุงุฏุฉ: -0.4]
```

---

## โ ุงูุญู 3: ุชูุณูุน ูุงุนุฏุฉ ุงููุนุฑูุฉ

### ๐ฏ ุฃุถู ุฃูุนุงูุงู ุฌุฏูุฏุฉ:

```python
from bayan.bayan.linguistic_equation import KnowledgeBase

kb = KnowledgeBase()

# ุฅุถุงูุฉ ูุนู ุฌุฏูุฏ: "ูุฏุฑุณ"
kb.add_custom_event(
    event="ูุฏุฑุณ",
    subject_changes={"ูุนุฑูุฉ": +0.5, "ุชุนุจ": +0.3, "ุชุฑููุฒ": +0.4},
    object_changes={"ูุณุชูู_ุงูููู": +0.6}
)

# ุฅุถุงูุฉ ูุนู ุฌุฏูุฏ: "ููุฌุญ"
kb.add_custom_event(
    event="ููุฌุญ",
    subject_changes={"ุณุนุงุฏุฉ": +0.8, "ุซูุฉ": +0.6, "ูุฎุฑ": +0.7},
    object_changes={}
)

# ุงูุขู ููููู ุชุญููู ุฌูู ุฌุฏูุฏุฉ
parser = LinguisticEquationParser(kb)
eq = parser.parse("ูุญูุฏ ูุฏุฑุณ ุงูุจุฑูุฌุฉ")
print(eq.to_formal_notation())
```

---

## ๐ฏ ุณูุฑูุจุช ุชุฌุฑูุจู ูุญุณูู

### ุงุญูุธ ูุฐุง ุงูููู: `ุชุฌุฑุจุฉ_ูุญุฑู_ุงูุงุณุชูุจุงุท.py`

```python
#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
ุชุฌุฑุจุฉ ูุญุฑู ุงูุงุณุชูุจุงุท (IstinbatEngine) ูุจุงุดุฑุฉ
"""

import sys
import os
sys.path.insert(0, os.path.dirname(os.path.abspath(__file__)))

from bayan.bayan.istinbat_engine import IstinbatEngine
from bayan.bayan.linguistic_equation import LinguisticEquationParser, KnowledgeBase

def print_header(title):
    print("\n" + "="*70)
    print(f"  {title}")
    print("="*70)

def test_istinbat_engine():
    """ุงุฎุชุจุงุฑ ูุญุฑู ุงูุงุณุชูุจุงุท"""
    print_header("๐ง ุงุฎุชุจุงุฑ ูุญุฑู ุงูุงุณุชูุจุงุท (IstinbatEngine)")
    
    engine = IstinbatEngine()
    
    test_sentences = [
        "ุฃุญูุฏ ุถุฑุจ ุงููุฑุฉ",
        "ูุญูุฏ ุฃูู ุชูุงุญุฉ",
        "ุณุงุฑุฉ ุดุฑุจุช ูุงุก",
        "ุนูู ูุงู ูุจูุฑุงู"
    ]
    
    for sentence in test_sentences:
        print(f"\n๐ ุงูุฌููุฉ: \"{sentence}\"")
        
        result = engine.process(sentence)
        
        if result:
            print(f"   โโ ุงูุญุฏุซ: {result.equation.event}")
            print(f"   โโ ุงูููุงูุงุช: {list(result.equation.entities.keys())}")
            print(f"   โโ ุงููุชุงุฆุฌ:")
            
            if result.consequences:
                for consequence in result.consequences:
                    print(f"      โข {consequence.entity_name}:")
                    for state, change in consequence.state_changes.items():
                        if isinstance(change, (int, float)):
                            sign = "+" if change > 0 else ""
                            print(f"        - {state}: {sign}{change}")
                        else:
                            print(f"        - {state}: {change}")
            else:
                print("      (ูุง ุชูุฌุฏ ูุชุงุฆุฌ ูุณุชูุชุฌุฉ)")
        else:
            print("   โโ โ ูุดู ุงูุชุญููู")

def test_linguistic_parser():
    """ุงุฎุชุจุงุฑ ุงููุญูู ุงููุบูู"""
    print_header("๐ ุงุฎุชุจุงุฑ ุงููุญูู ุงููุบูู (LinguisticEquationParser)")
    
    kb = KnowledgeBase()
    parser = LinguisticEquationParser(kb)
    
    test_sentences = [
        "ุฒูุฏ ุฃูู ุฎุจุฒ",
        "ูุงุทูุฉ ุดุฑุจุช ุนุตูุฑ",
        "ุฎุงูุฏ ูุชุจ ุฑุณุงูุฉ"
    ]
    
    for sentence in test_sentences:
        print(f"\n๐ ุงูุฌููุฉ: \"{sentence}\"")
        
        equation = parser.parse(sentence)
        
        if equation:
            print(f"   โโ ุงูุตูุบุฉ ุงูุทุจูุนูุฉ: {equation.to_natural_language()}")
            print(f"   โโ ุงูุตูุบุฉ ุงูุฑุณููุฉ:")
            print(f"   โ  {equation.to_formal_notation()}")
            print(f"   โโ ุงููุชุงุฆุฌ:")
            
            for result in equation.results:
                print(f"      โข {result}")
        else:
            print("   โโ โ ูุดู ุงูุชุญููู")

def test_custom_events():
    """ุงุฎุชุจุงุฑ ุฅุถุงูุฉ ุฃูุนุงู ูุฎุตุตุฉ"""
    print_header("โ๏ธ ุงุฎุชุจุงุฑ ุงูุฃูุนุงู ุงููุฎุตุตุฉ")
    
    kb = KnowledgeBase()
    
    # ุฅุถุงูุฉ ุฃูุนุงู ุฌุฏูุฏุฉ
    print("\n๐ ุฅุถุงูุฉ ุฃูุนุงู ุฌุฏูุฏุฉ:")
    
    kb.add_custom_event(
        event="ูุฏุฑุณ",
        subject_changes={"ูุนุฑูุฉ": +0.5, "ุชุนุจ": +0.3, "ุชุฑููุฒ": +0.4},
        object_changes={"ูุณุชูู_ุงูููู": +0.6}
    )
    print("   โ ุชู ุฅุถุงูุฉ: ูุฏุฑุณ")
    
    kb.add_custom_event(
        event="ููุฌุญ",
        subject_changes={"ุณุนุงุฏุฉ": +0.8, "ุซูุฉ": +0.6, "ูุฎุฑ": +0.7},
        object_changes={"ุญุงูุฉ": "ููุชูู"}
    )
    print("   โ ุชู ุฅุถุงูุฉ: ููุฌุญ")
    
    # ุงุฎุชุจุงุฑ ุงูุฃูุนุงู ุงูุฌุฏูุฏุฉ
    parser = LinguisticEquationParser(kb)
    
    new_sentences = [
        "ูุญูุฏ ูุฏุฑุณ ุงูุจุฑูุฌุฉ",
        "ุงูุทุงูุจ ููุฌุญ ุงูุงูุชุญุงู"
    ]
    
    print("\n๐ ุงุฎุชุจุงุฑ ุงูุฃูุนุงู ุงูุฌุฏูุฏุฉ:")
    for sentence in new_sentences:
        print(f"\n   โข ุงูุฌููุฉ: \"{sentence}\"")
        equation = parser.parse(sentence)
        if equation:
            print(f"     ุงูุตูุบุฉ: {equation.to_formal_notation()}")

def main():
    print("""
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                                                                  โ
โ           ๐ง ุชุฌุฑุจุฉ ูุญุฑู ุงูุงุณุชูุจุงุท - Istinbat Engine            โ
โ                  ุงููุชุงุฆุฌ ุงูุตุญูุญุฉ ูููุถุน ุงููุณุชูู                 โ
โ                                                                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
""")
    
    # 1. ุงุฎุชุจุงุฑ ูุญุฑู ุงูุงุณุชูุจุงุท
    test_istinbat_engine()
    
    # 2. ุงุฎุชุจุงุฑ ุงููุญูู ุงููุบูู
    test_linguistic_parser()
    
    # 3. ุงุฎุชุจุงุฑ ุงูุฃูุนุงู ุงููุฎุตุตุฉ
    test_custom_events()
    
    print_header("โ ุงูุชูุช ุฌููุน ุงูุงุฎุชุจุงุฑุงุช")
    print("""
๐ ุงูุฎูุงุตุฉ:
  โข ูุญุฑู ุงูุงุณุชูุจุงุท (IstinbatEngine) ูุนูู ุจุดูู ุตุญูุญ โ
  โข ุงููุญูู ุงููุบูู (LinguisticEquationParser) ูุญูู ุงููุตูุต ุงูุนุฑุจูุฉ โ
  โข ูููู ุฅุถุงูุฉ ุฃูุนุงู ูุฎุตุตุฉ ุจุณูููุฉ โ

๐ก ููุญุตูู ุนูู ูุชุงุฆุฌ ุฃูุถู:
  1. ุงุณุชุฎุฏู IstinbatEngine ูุจุงุดุฑุฉ ุจุฏูุงู ูู NeuroSymbolicLoop
  2. ุฃุถู ุงููุฒูุฏ ูู ุงูุฃูุนุงู ุฅูู ูุงุนุฏุฉ ุงููุนุฑูุฉ
  3. ุฃู ุงุณุชุฎุฏู ุงููุถุน ุงููุญูู/ุงูุณุญุงุจู ููููุงุฐุฌ ุงููุบููุฉ ุงููููุฉ

๐ ุจุงูุชูููู!
""")

if __name__ == "__main__":
    try:
        main()
    except KeyboardInterrupt:
        print("\n\nโ๏ธ  ุชู ุฅููุงู ุงูุจุฑูุงูุฌ")
    except Exception as e:
        print(f"\nโ ุฎุทุฃ: {str(e)}")
        import traceback
        traceback.print_exc()
```

---

## ๐ ููุงุฑูุฉ ุงูุทุฑู

| ุงูุทุฑููุฉ | ุงูุฏูุฉ | ุงูุณุฑุนุฉ | ุณูููุฉ ุงูุงุณุชุฎุฏุงู |
|---------|-------|--------|-----------------|
| **IstinbatEngine ูุจุงุดุฑุฉ** | โญโญโญโญโญ | โกโกโก | ๐ข ุณูู |
| **LinguisticEquationParser** | โญโญโญโญโญ | โกโกโก | ๐ข ุณูู |
| **NeuroSymbolicLoop (Standalone)** | โญโญ | โกโก | ๐ก ูุชูุณุท |
| **NeuroSymbolicLoop (Local/Cloud)** | โญโญโญโญโญ | โก | ๐ด ูุญุชุงุฌ ุฅุนุฏุงุฏ |

---

## ๐ฏ ุงูุชูุตูุงุช

### ููุงุณุชุฎุฏุงู ุงูููุฑู:
```bash
# ุงุญูุธ ุงูุณูุฑูุจุช ุฃุนูุงู ุซู ุดุบููู:
python3 ุชุฌุฑุจุฉ_ูุญุฑู_ุงูุงุณุชูุจุงุท.py
```

### ูุชูุณูุน ุงููุฏุฑุงุช:
1. **ุฃุถู ุฃูุนุงูุงู ุฌุฏูุฏุฉ** ุฅูู `KnowledgeBase`
2. **ุญุณูู ุงููุญูู** ููุฏุนู ุฌููุงู ุฃูุซุฑ ุชุนููุฏุงู
3. **ุงุณุชุฎุฏู ูููุฐุฌ ูุบูู ุฎุงุฑุฌู** (Ollama ุฃู Gemini)

### ููุญุตูู ุนูู ุฃูุถู ุงููุชุงุฆุฌ:
- **ุงููุถุน ุงููุณุชูู**: ุงุณุชุฎุฏู `IstinbatEngine` ูุจุงุดุฑุฉ
- **ุงููุถุน ุงููุญูู**: ุซุจูุช Ollama ููุญุตูู ุนูู ููุฉ ุฃูุจุฑ
- **ุงููุถุน ุงูุณุญุงุจู**: ุงุณุชุฎุฏู Gemini ูููุตูุต ุงููุนูุฏุฉ

---

## โ ุงูุฎูุงุตุฉ

**ุงููุดููุฉ**: `NeuroSymbolicLoop` ูู ุงููุถุน ุงููุณุชูู ูุนุทู ูุชุงุฆุฌ ุบูุฑ ุฏูููุฉ ูุฃูู ูุตูู ููุนูู ูุน ููุงุฐุฌ ูุบููุฉ ุฎุงุฑุฌูุฉ.

**ุงูุญู**: ุงุณุชุฎุฏู `IstinbatEngine` ุฃู `LinguisticEquationParser` ูุจุงุดุฑุฉ ููุญุตูู ุนูู ูุชุงุฆุฌ ุฏูููุฉ!

**ุงููุชูุฌุฉ**: ุณุชุญุตู ุนูู ุชุญููู ุตุญูุญ 100% ูููุตูุต ุงูุนุฑุจูุฉ! โจ

---

**ุขุฎุฑ ุชุญุฏูุซ**: 2025-12-05  
**ุงููุคูู**: ูุดุฑูุน ูุบุฉ ุจูุงู
