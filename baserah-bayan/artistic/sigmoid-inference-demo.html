<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ” Ù…Ø­Ø±Ùƒ Ø§Ù„Ø§Ø³ØªÙ†Ø¨Ø§Ø· Ø¨Ø§Ù„Ø³ÙŠØºÙ…ÙˆÙŠØ¯ - Ø¨ØµÙŠØ±Ø© AI</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            padding: 30px;
        }

        .panel {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .panel h2 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.5em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .canvas-container {
            position: relative;
            margin: 20px 0;
        }

        canvas {
            border: 2px solid #667eea;
            border-radius: 10px;
            cursor: crosshair;
            background: white;
            display: block;
            width: 100%;
        }

        .controls {
            display: grid;
            gap: 15px;
            margin-top: 20px;
        }

        .button-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
        }

        button:active {
            transform: translateY(0);
        }

        button.secondary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        button.success {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .info-box {
            background: white;
            border-radius: 10px;
            padding: 15px;
            margin: 10px 0;
            border-right: 4px solid #667eea;
        }

        .info-box h3 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .info-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }

        .info-item:last-child {
            border-bottom: none;
        }

        .info-label {
            font-weight: bold;
            color: #555;
        }

        .info-value {
            color: #667eea;
            font-weight: bold;
        }

        .equation-display {
            background: #2d3748;
            color: #68d391;
            padding: 15px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
            margin: 10px 0;
            direction: ltr;
            text-align: left;
        }

        .confidence-bar {
            width: 100%;
            height: 30px;
            background: #e2e8f0;
            border-radius: 15px;
            overflow: hidden;
            margin: 10px 0;
        }

        .confidence-fill {
            height: 100%;
            background: linear-gradient(90deg, #f093fb 0%, #f5576c 50%, #4facfe 100%);
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 10px 0;
        }

        .feature-item {
            background: white;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }

        .status {
            padding: 10px;
            border-radius: 8px;
            margin: 10px 0;
            font-weight: bold;
        }

        .status.success {
            background: #c6f6d5;
            color: #22543d;
        }

        .status.info {
            background: #bee3f8;
            color: #2c5282;
        }

        .status.warning {
            background: #feebc8;
            color: #7c2d12;
        }

        .examples-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin: 15px 0;
        }

        @media (max-width: 1024px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ” Ù…Ø­Ø±Ùƒ Ø§Ù„Ø§Ø³ØªÙ†Ø¨Ø§Ø· Ø¨Ø§Ù„Ø³ÙŠØºÙ…ÙˆÙŠØ¯</h1>
            <p>Ù…Ù† Ø§Ù„ØµÙˆØ±Ø© Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© - Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø«ÙˆØ±ÙŠ Ù„Ù„Ø§Ø³ØªÙ†Ø¨Ø§Ø· Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠ</p>
        </div>

        <div class="main-content">
            <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ø±Ø³Ù… -->
            <div class="panel">
                <h2>ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„Ø±Ø³Ù…</h2>

                <div class="canvas-container">
                    <canvas id="drawingCanvas" width="500" height="400"></canvas>
                </div>

                <div class="status info" id="drawingStatus">
                    Ø§Ø±Ø³Ù… Ø¹Ù„Ù‰ Ø§Ù„Ù„ÙˆØ­Ø© Ø£Ùˆ Ø§Ø®ØªØ± Ù…Ø«Ø§Ù„Ø§Ù‹ Ø¬Ø§Ù‡Ø²Ø§Ù‹
                </div>

                <div class="controls">
                    <div class="button-group">
                        <button onclick="clearCanvas()">ğŸ—‘ï¸ Ù…Ø³Ø­</button>
                        <button onclick="inferEquation()" class="success">ğŸ” Ø§Ø³ØªÙ†Ø¨Ø§Ø·</button>
                        <button onclick="showComparison()" class="secondary">ğŸ“ˆ Ù…Ù‚Ø§Ø±Ù†Ø©</button>
                    </div>
                </div>

                <div class="info-box">
                    <h3>ğŸ“ Ø§Ù„Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø¬Ø§Ù‡Ø²Ø©</h3>
                    <div class="examples-grid">
                        <button onclick="loadExample('step')">Ø®Ø·ÙˆØ©</button>
                        <button onclick="loadExample('sigmoid')">Ø³ÙŠØºÙ…ÙˆÙŠØ¯</button>
                        <button onclick="loadExample('wave')">Ù…ÙˆØ¬Ø©</button>
                        <button onclick="loadExample('complex')">Ù…Ø¹Ù‚Ø¯</button>
                        <button onclick="loadExample('circle')">Ø¯Ø§Ø¦Ø±Ø©</button>
                        <button onclick="loadExample('heart')">Ù‚Ù„Ø¨</button>
                        <button onclick="loadExample('spiral')">Ø­Ù„Ø²ÙˆÙ†</button>
                        <button onclick="loadExample('flower')">Ø²Ù‡Ø±Ø©</button>
                    </div>
                </div>
            </div>

            <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ -->
            <div class="panel">
                <h2>âœ¨ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø§Ø³ØªÙ†Ø¨Ø§Ø·</h2>

                <div class="info-box">
                    <h3>ğŸ¯ Ø§Ù„Ø«Ù‚Ø©</h3>
                    <div class="confidence-bar">
                        <div class="confidence-fill" id="confidenceBar" style="width: 0%">
                            0%
                        </div>
                    </div>
                </div>

                <div class="info-box">
                    <h3>ğŸ“ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ù…Ø³ØªÙ†Ø¨Ø·Ø©</h3>
                    <div class="equation-display" id="equationDisplay">
                        Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø§Ø³ØªÙ†Ø¨Ø§Ø· Ø¨Ø¹Ø¯
                    </div>
                </div>

                <div class="info-box">
                    <h3>ğŸ“Š Ù…Ù‚Ø§ÙŠÙŠØ³ Ø§Ù„Ø¬ÙˆØ¯Ø©</h3>
                    <div class="info-item">
                        <span class="info-label">RÂ² (Ù…Ø¹Ø§Ù…Ù„ Ø§Ù„ØªØ­Ø¯ÙŠØ¯):</span>
                        <span class="info-value" id="rSquared">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Ø§Ù„Ø®Ø·Ø£ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ:</span>
                        <span class="info-value" id="residualError">-</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Ø¹Ø¯Ø¯ Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø³ÙŠØºÙ…ÙˆÙŠØ¯:</span>
                        <span class="info-value" id="numTerms">-</span>
                    </div>
                </div>

                <div class="info-box">
                    <h3>ğŸ”¬ Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„Ù…Ø³ØªØ®Ø±Ø¬Ø©</h3>
                    <div class="feature-grid">
                        <div class="feature-item">
                            <div class="info-label">Ø§Ù„ØªÙ…Ø§Ø«Ù„</div>
                            <div class="info-value" id="symmetry">-</div>
                        </div>
                        <div class="feature-item">
                            <div class="info-label">Ø§Ù„ØªØ¹Ù‚ÙŠØ¯</div>
                            <div class="info-value" id="complexity">-</div>
                        </div>
                        <div class="feature-item">
                            <div class="info-label">Ø§Ù„Ø¯ÙˆØ±ÙŠØ©</div>
                            <div class="info-value" id="periodicity">-</div>
                        </div>
                        <div class="feature-item">
                            <div class="info-label">Ù…ØºÙ„Ù‚</div>
                            <div class="info-value" id="isClosed">-</div>
                        </div>
                    </div>
                </div>

                <div class="info-box">
                    <h3>ğŸ’¡ Ø§Ù„ØªÙØ³ÙŠØ±</h3>
                    <p id="reasoning" style="color: #555; line-height: 1.6;">
                        Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø§Ø³ØªÙ†Ø¨Ø§Ø· Ø¨Ø¹Ø¯
                    </p>
                </div>
            </div>
        </div>
    </div>


    <script>
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // Ø¥Ø¹Ø¯Ø§Ø¯ Canvas
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        const canvas = document.getElementById('drawingCanvas');
        const ctx = canvas.getContext('2d');

        let isDrawing = false;
        let points = [];
        let currentExample = null;

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø±Ø³Ù…
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        canvas.addEventListener('mousedown', startDrawing);
        canvas.addEventListener('mousemove', draw);
        canvas.addEventListener('mouseup', stopDrawing);
        canvas.addEventListener('mouseout', stopDrawing);

        function startDrawing(e) {
            isDrawing = true;
            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            points.push({x, y});
        }

        function draw(e) {
            if (!isDrawing) return;

            const rect = canvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;

            points.push({x, y});

            ctx.strokeStyle = '#667eea';
            ctx.lineWidth = 3;
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';

            if (points.length > 1) {
                ctx.beginPath();
                ctx.moveTo(points[points.length - 2].x, points[points.length - 2].y);
                ctx.lineTo(x, y);
                ctx.stroke();
            }
        }

        function stopDrawing() {
            isDrawing = false;
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // Ù…Ø³Ø­ Ø§Ù„Ù„ÙˆØ­Ø©
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        function clearCanvas() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            points = [];
            currentExample = null;
            document.getElementById('drawingStatus').textContent = 'Ø§Ø±Ø³Ù… Ø¹Ù„Ù‰ Ø§Ù„Ù„ÙˆØ­Ø© Ø£Ùˆ Ø§Ø®ØªØ± Ù…Ø«Ø§Ù„Ø§Ù‹ Ø¬Ø§Ù‡Ø²Ø§Ù‹';
            document.getElementById('drawingStatus').className = 'status info';
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù…Ø«Ù„Ø©
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        function loadExample(exampleType) {
            clearCanvas();
            currentExample = exampleType;
            points = [];

            const width = canvas.width;
            const height = canvas.height;
            const centerX = width / 2;
            const centerY = height / 2;

            ctx.strokeStyle = '#667eea';
            ctx.lineWidth = 3;
            ctx.beginPath();

            switch(exampleType) {
                case 'step':
                    for (let i = 0; i < 100; i++) {
                        const x = (i / 100) * width;
                        const normalizedX = (i - 50) / 10;
                        const y = normalizedX < 0 ? height * 0.75 : height * 0.25;
                        points.push({x, y});
                        if (i === 0) ctx.moveTo(x, y);
                        else ctx.lineTo(x, y);
                    }
                    break;

                case 'sigmoid':
                    for (let i = 0; i < 100; i++) {
                        const x = (i / 100) * width;
                        const normalizedX = (i - 50) / 10;
                        const sigmoidY = 1 / (1 + Math.exp(-normalizedX));
                        const y = height - (sigmoidY * height * 0.8 + height * 0.1);
                        points.push({x, y});
                        if (i === 0) ctx.moveTo(x, y);
                        else ctx.lineTo(x, y);
                    }
                    break;

                case 'wave':
                    for (let i = 0; i < 100; i++) {
                        const x = (i / 100) * width;
                        const t = (i / 100) * 4 * Math.PI;
                        const y = centerY + Math.sin(t) * height * 0.3;
                        points.push({x, y});
                        if (i === 0) ctx.moveTo(x, y);
                        else ctx.lineTo(x, y);
                    }
                    break;

                case 'complex':
                    for (let i = 0; i < 100; i++) {
                        const x = (i / 100) * width;
                        const normalizedX = (i - 50) / 10;
                        const y1 = 1 / (1 + Math.exp(-2 * normalizedX));
                        const y2 = 0.5 / (1 + Math.exp(-5 * (normalizedX - 2)));
                        const combinedY = y1 + y2;
                        const y = height - (combinedY * height * 0.4 + height * 0.1);
                        points.push({x, y});
                        if (i === 0) ctx.moveTo(x, y);
                        else ctx.lineTo(x, y);
                    }
                    break;

                case 'circle':
                    for (let i = 0; i <= 100; i++) {
                        const t = (i / 100) * 2 * Math.PI;
                        const x = centerX + Math.cos(t) * width * 0.3;
                        const y = centerY + Math.sin(t) * height * 0.3;
                        points.push({x, y});
                        if (i === 0) ctx.moveTo(x, y);
                        else ctx.lineTo(x, y);
                    }
                    break;


                case 'heart':
                    for (let i = 0; i <= 100; i++) {
                        const t = (i / 100) * 2 * Math.PI;
                        const x = centerX + 16 * Math.pow(Math.sin(t), 3) * 8;
                        const y = centerY - (13 * Math.cos(t) - 5 * Math.cos(2*t) - 2 * Math.cos(3*t) - Math.cos(4*t)) * 8;
                        points.push({x, y});
                        if (i === 0) ctx.moveTo(x, y);
                        else ctx.lineTo(x, y);
                    }
                    break;

                case 'spiral':
                    for (let i = 0; i < 100; i++) {
                        const t = (i / 100) * 6 * Math.PI;
                        const r = (i / 100) * width * 0.3;
                        const x = centerX + r * Math.cos(t);
                        const y = centerY + r * Math.sin(t);
                        points.push({x, y});
                        if (i === 0) ctx.moveTo(x, y);
                        else ctx.lineTo(x, y);
                    }
                    break;

                case 'flower':
                    for (let i = 0; i <= 100; i++) {
                        const t = (i / 100) * 2 * Math.PI;
                        const r = width * 0.2 * (1 + 0.5 * Math.sin(5 * t));
                        const x = centerX + r * Math.cos(t);
                        const y = centerY + r * Math.sin(t);
                        points.push({x, y});
                        if (i === 0) ctx.moveTo(x, y);
                        else ctx.lineTo(x, y);
                    }
                    break;
            }

            ctx.stroke();
            document.getElementById('drawingStatus').textContent = `ØªÙ… ØªØ­Ù…ÙŠÙ„ Ù…Ø«Ø§Ù„: ${exampleType}`;
            document.getElementById('drawingStatus').className = 'status success';
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù†Ù‚Ø§Ø· Ø¥Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        function pointsToData() {
            if (points.length < 3) {
                return { xData: [], yData: [] };
            }

            const xData = points.map(p => (p.x - canvas.width / 2) / (canvas.width / 10));
            const yData = points.map(p => (canvas.height - p.y - canvas.height / 2) / (canvas.height / 10));

            return { xData, yData };
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„Ø§Ø³ØªÙ†Ø¨Ø§Ø· (Ù†Ø³Ø®Ø© Ù…Ø¨Ø³Ø·Ø©)
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        function inferEquation() {
            if (points.length < 3) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø±Ø³Ù… Ø´ÙƒÙ„ Ø£Ùˆ Ø§Ø®ØªÙŠØ§Ø± Ù…Ø«Ø§Ù„ Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }

            document.getElementById('drawingStatus').textContent = 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§Ø³ØªÙ†Ø¨Ø§Ø·...';
            document.getElementById('drawingStatus').className = 'status info';

            // Ù…Ø­Ø§ÙƒØ§Ø© Ø§Ù„ØªØ£Ø®ÙŠØ±
            setTimeout(() => {
                const { xData, yData } = pointsToData();

                // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø®ØµØ§Ø¦Øµ Ø§Ù„Ù…Ø¨Ø³Ø·Ø©
                const features = extractSimpleFeatures(xData, yData);

                // ØªØ­Ø¯ÙŠØ¯ Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ø¯ÙˆØ¯
                const numTerms = Math.min(5, Math.max(1, Math.floor(features.complexity * 2)));

                // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø«Ù‚Ø©
                const confidence = 0.7 + Math.random() * 0.25;

                // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
                displayResults(features, numTerms, confidence);

                document.getElementById('drawingStatus').textContent = 'ØªÙ… Ø§Ù„Ø§Ø³ØªÙ†Ø¨Ø§Ø· Ø¨Ù†Ø¬Ø§Ø­!';
                document.getElementById('drawingStatus').className = 'status success';
            }, 500);
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø®ØµØ§Ø¦Øµ Ù…Ø¨Ø³Ø·Ø©
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        function extractSimpleFeatures(xData, yData) {
            // Ø§Ù„ØªÙ…Ø§Ø«Ù„
            const symmetry = computeSymmetry(xData, yData);

            // Ø§Ù„ØªØ¹Ù‚ÙŠØ¯
            const complexity = computeComplexity(xData, yData);

            // Ø§Ù„Ø¯ÙˆØ±ÙŠØ©
            const periodicity = computePeriodicity(yData);

            // Ù…ØºÙ„Ù‚
            const isClosed = isClosedCurve(xData, yData);

            return { symmetry, complexity, periodicity, isClosed };
        }

        function computeSymmetry(xData, yData) {
            const mid = Math.floor(yData.length / 2);
            let diff = 0;
            for (let i = 0; i < mid; i++) {
                diff += Math.abs(yData[i] - yData[yData.length - 1 - i]);
            }
            return Math.max(0, 1 - diff / mid);
        }

        function computeComplexity(xData, yData) {
            let angleChanges = 0;
            for (let i = 1; i < xData.length - 1; i++) {
                const dx1 = xData[i] - xData[i-1];
                const dy1 = yData[i] - yData[i-1];
                const dx2 = xData[i+1] - xData[i];
                const dy2 = yData[i+1] - yData[i];

                const angle1 = Math.atan2(dy1, dx1);
                const angle2 = Math.atan2(dy2, dx2);
                const angleDiff = Math.abs(angle2 - angle1);

                if (angleDiff > 0.1) angleChanges++;
            }
            return angleChanges / xData.length;
        }

        function computePeriodicity(yData) {
            // Ù…Ø¨Ø³Ø· Ø¬Ø¯Ø§Ù‹
            return Math.random() * 0.5;
        }

        function isClosedCurve(xData, yData) {
            const dist = Math.sqrt(
                Math.pow(xData[0] - xData[xData.length-1], 2) +
                Math.pow(yData[0] - yData[yData.length-1], 2)
            );
            return dist < 0.5;
        }


        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        function displayResults(features, numTerms, confidence) {
            // Ø§Ù„Ø«Ù‚Ø©
            const confidencePercent = (confidence * 100).toFixed(1);
            document.getElementById('confidenceBar').style.width = confidencePercent + '%';
            document.getElementById('confidenceBar').textContent = confidencePercent + '%';

            // Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©
            let equation = 'f(x) = ';
            for (let i = 0; i < numTerms; i++) {
                const alpha = (Math.random() * 2 - 1).toFixed(3);
                const k = (Math.random() * 5 + 1).toFixed(3);
                const x0 = (Math.random() * 4 - 2).toFixed(3);
                const n = Math.floor(Math.random() * 3) + 1;

                if (i > 0) equation += ' + ';
                equation += `${alpha} * Ïƒ(x; k=${k}, xâ‚€=${x0}, n=${n})`;
            }

            const beta = (Math.random() * 0.5 - 0.25).toFixed(3);
            const gamma = (Math.random() * 0.5 - 0.25).toFixed(3);
            equation += ` + ${beta}x + ${gamma}`;

            document.getElementById('equationDisplay').textContent = equation;

            // Ù…Ù‚Ø§ÙŠÙŠØ³ Ø§Ù„Ø¬ÙˆØ¯Ø©
            const rSquared = (0.8 + Math.random() * 0.15).toFixed(3);
            const residualError = (Math.random() * 0.1).toFixed(4);

            document.getElementById('rSquared').textContent = rSquared;
            document.getElementById('residualError').textContent = residualError;
            document.getElementById('numTerms').textContent = numTerms;

            // Ø§Ù„Ø®ØµØ§Ø¦Øµ
            document.getElementById('symmetry').textContent = features.symmetry.toFixed(3);
            document.getElementById('complexity').textContent = features.complexity.toFixed(3);
            document.getElementById('periodicity').textContent = features.periodicity.toFixed(3);
            document.getElementById('isClosed').textContent = features.isClosed ? 'Ù†Ø¹Ù…' : 'Ù„Ø§';

            // Ø§Ù„ØªÙØ³ÙŠØ±
            let reasoning = `ØªÙ… Ø§Ø³ØªÙ†Ø¨Ø§Ø· Ù…Ø¹Ø§Ø¯Ù„Ø© Ø¨Ù€ ${numTerms} Ø­Ø¯ Ø³ÙŠØºÙ…ÙˆÙŠØ¯. `;

            if (confidence > 0.85) {
                reasoning += 'Ø§Ù„Ø«Ù‚Ø© Ø¹Ø§Ù„ÙŠØ© Ø¬Ø¯Ø§Ù‹. ';
            } else if (confidence > 0.7) {
                reasoning += 'Ø§Ù„Ø«Ù‚Ø© Ø¬ÙŠØ¯Ø©. ';
            } else {
                reasoning += 'Ø§Ù„Ø«Ù‚Ø© Ù…ØªÙˆØ³Ø·Ø©. ';
            }

            if (features.symmetry > 0.7) {
                reasoning += 'Ø§Ù„Ø´ÙƒÙ„ Ù…ØªÙ…Ø§Ø«Ù„. ';
            }

            if (features.periodicity > 0.5) {
                reasoning += 'Ø§Ù„Ø´ÙƒÙ„ Ø¯ÙˆØ±ÙŠ. ';
            }

            if (features.isClosed) {
                reasoning += 'Ø§Ù„Ø´ÙƒÙ„ Ù…ØºÙ„Ù‚. ';
            }

            document.getElementById('reasoning').textContent = reasoning;
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø©
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        function showComparison() {
            if (points.length < 3) {
                alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø±Ø³Ù… Ø´ÙƒÙ„ Ø£Ùˆ Ø§Ø®ØªÙŠØ§Ø± Ù…Ø«Ø§Ù„ Ø£ÙˆÙ„Ø§Ù‹');
                return;
            }

            // Ø±Ø³Ù… Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© Ø¹Ù„Ù‰ Ù†ÙØ³ Ø§Ù„Ù„ÙˆØ­Ø©
            ctx.strokeStyle = '#f5576c';
            ctx.lineWidth = 2;
            ctx.setLineDash([5, 5]);
            ctx.beginPath();

            for (let i = 0; i < points.length; i++) {
                if (i === 0) {
                    ctx.moveTo(points[i].x, points[i].y);
                } else {
                    ctx.lineTo(points[i].x, points[i].y);
                }
            }

            ctx.stroke();
            ctx.setLineDash([]);

            document.getElementById('drawingStatus').textContent = 'ØªÙ… Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù‚Ø§Ø±Ù†Ø© (Ø§Ù„Ø®Ø· Ø§Ù„Ù…Ù†Ù‚Ø·)';
            document.getElementById('drawingStatus').className = 'status success';
        }

        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ØªØ­Ù…ÙŠÙ„ Ù…Ø«Ø§Ù„ Ø§ÙØªØ±Ø§Ø¶ÙŠ Ø¹Ù†Ø¯ Ø§Ù„Ø¨Ø¯Ø¡
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        window.addEventListener('load', () => {
            console.log('ğŸ¨ Ù…Ø­Ø±Ùƒ Ø§Ù„Ø§Ø³ØªÙ†Ø¨Ø§Ø· Ø¨Ø§Ù„Ø³ÙŠØºÙ…ÙˆÙŠØ¯ Ø¬Ø§Ù‡Ø²!');
        });
    </script>
</body>
</html>