<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ù†ÙˆØ§Ø© Ø§Ù„ØªÙÙƒÙŠØ±ÙŠØ© Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø·Ø¨Ù‚Ø§Øª - Ø¨ØµÙŠØ±Ø© AI</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            direction: rtl;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            padding: 30px;
        }

        .section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .input-area {
            grid-column: 1 / -1;
        }

        textarea {
            width: 100%;
            min-height: 120px;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 1.1em;
            font-family: inherit;
            resize: vertical;
            transition: border-color 0.3s;
        }

        textarea:focus {
            outline: none;
            border-color: #667eea;
        }

        .layer-selector {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .layer-checkbox {
            display: flex;
            align-items: center;
            padding: 10px;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .layer-checkbox:hover {
            background: #e8eaf6;
            transform: translateY(-2px);
        }

        .layer-checkbox input {
            margin-left: 8px;
            cursor: pointer;
        }

        .layer-checkbox label {
            cursor: pointer;
            font-weight: 500;
        }

        .buttons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        button {
            flex: 1;
            padding: 15px 30px;
            font-size: 1.1em;
            font-weight: bold;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            color: white;
        }

        .btn-process {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .btn-process:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-reset {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }

        .btn-reset:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(245, 87, 108, 0.4);
        }

        .btn-clear {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }

        .btn-clear:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(79, 172, 254, 0.4);
        }

        .results {
            grid-column: 1 / -1;
        }

        .result-item {
            background: white;
            padding: 20px;
            margin-bottom: 15px;
            border-radius: 10px;
            border-left: 5px solid #667eea;
        }

        .result-item h3 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.3em;
        }

        .result-content {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            max-height: 300px;
            overflow-y: auto;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
            margin-top: 20px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #666;
            font-size: 0.9em;
        }

        .sync-matrix {
            background: white;
            padding: 15px;
            border-radius: 10px;
            overflow-x: auto;
        }

        .sync-matrix table {
            width: 100%;
            border-collapse: collapse;
        }

        .sync-matrix th,
        .sync-matrix td {
            padding: 10px;
            text-align: center;
            border: 1px solid #ddd;
        }

        .sync-matrix th {
            background: #667eea;
            color: white;
            font-weight: bold;
        }

        .sync-level-high {
            background: #4caf50;
            color: white;
        }

        .sync-level-medium {
            background: #ff9800;
            color: white;
        }

        .sync-level-low {
            background: #f44336;
            color: white;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
            font-size: 1.2em;
            color: #667eea;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .insights {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
        }

        .insights h3 {
            color: #d84315;
            margin-bottom: 15px;
        }

        .insight-item {
            background: white;
            padding: 10px 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            border-left: 4px solid #d84315;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }

            .layer-selector {
                grid-template-columns: repeat(2, 1fr);
            }

            .stats {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§  Ø§Ù„Ù†ÙˆØ§Ø© Ø§Ù„ØªÙÙƒÙŠØ±ÙŠØ© Ù…ØªØ¹Ø¯Ø¯Ø© Ø§Ù„Ø·Ø¨Ù‚Ø§Øª</h1>
            <p>Ù†Ø¸Ø§Ù… Ø¨ØµÙŠØ±Ø© AI Ø§Ù„Ø«ÙˆØ±ÙŠ - 8 Ø·Ø¨Ù‚Ø§Øª ØªÙÙƒÙŠØ± Ù…ØªÙƒØ§Ù…Ù„Ø©</p>
        </div>

        <div class="main-content">
            <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ -->
            <div class="section input-area">
                <h2>ğŸ“ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ù†Øµ Ù„Ù„ØªØ­Ù„ÙŠÙ„</h2>
                <textarea id="inputText" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ù†Øµ Ù‡Ù†Ø§ Ù„Ù„ØªØ­Ù„ÙŠÙ„ Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ø·Ø¨Ù‚Ø§Øª Ø§Ù„Ø«Ù…Ø§Ù†ÙŠØ©...

Ù…Ø«Ø§Ù„: Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ù‡ÙŠ Ù„ØºØ© Ø§Ù„ÙƒÙˆÙ† ÙˆØ§Ù„ÙÙŠØ²ÙŠØ§Ø¡ ØªÙØ³Ø± Ø§Ù„ÙˆØ¬ÙˆØ¯ Ø¨ÙŠÙ†Ù…Ø§ Ø§Ù„Ø±Ù…ÙˆØ² ØªØ­Ù…Ù„ Ø§Ù„Ù…Ø¹Ø§Ù†ÙŠ Ø§Ù„Ø¹Ù…ÙŠÙ‚Ø©"></textarea>

                <h3 style="margin-top: 20px; color: #667eea;">Ø§Ø®ØªØ± Ø§Ù„Ø·Ø¨Ù‚Ø§Øª Ù„Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©:</h3>
                <div class="layer-selector">
                    <div class="layer-checkbox">
                        <input type="checkbox" id="layer-mathematical" value="mathematical" checked>
                        <label for="layer-mathematical">ğŸ”¢ Ø±ÙŠØ§Ø¶ÙŠØ©</label>
                    </div>
                    <div class="layer-checkbox">
                        <input type="checkbox" id="layer-logical" value="logical" checked>
                        <label for="layer-logical">ğŸ§© Ù…Ù†Ø·Ù‚ÙŠØ©</label>
                    </div>
                    <div class="layer-checkbox">
                        <input type="checkbox" id="layer-interpretive" value="interpretive" checked>
                        <label for="layer-interpretive">ğŸ”® ØªÙØ³ÙŠØ±ÙŠØ©</label>
                    </div>
                    <div class="layer-checkbox">
                        <input type="checkbox" id="layer-physical" value="physical" checked>
                        <label for="layer-physical">âš›ï¸ ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ©</label>
                    </div>
                    <div class="layer-checkbox">
                        <input type="checkbox" id="layer-linguistic" value="linguistic" checked>
                        <label for="layer-linguistic">ğŸ“š Ù„ØºÙˆÙŠØ©</label>
                    </div>
                    <div class="layer-checkbox">
                        <input type="checkbox" id="layer-symbolic" value="symbolic" checked>
                        <label for="layer-symbolic">ğŸŒŸ Ø±Ù…Ø²ÙŠØ©</label>
                    </div>
                    <div class="layer-checkbox">
                        <input type="checkbox" id="layer-visual" value="visual" checked>
                        <label for="layer-visual">ğŸ‘ï¸ Ø¨ØµØ±ÙŠØ©</label>
                    </div>
                    <div class="layer-checkbox">
                        <input type="checkbox" id="layer-semantic" value="semantic" checked>
                        <label for="layer-semantic">ğŸ’­ Ø¯Ù„Ø§Ù„ÙŠØ©</label>
                    </div>
                    <div class="layer-checkbox">
                        <input type="checkbox" id="layer-event-action" value="event_action" checked>
                        <label for="layer-event-action">âš¡ Ø£Ø­Ø¯Ø§Ø« ÙˆØªØ£Ø«ÙŠØ±Ø§Øª</label>
                    </div>
                    <div class="layer-checkbox">
                        <input type="checkbox" id="layer-emotional-state" value="emotional_state" checked>
                        <label for="layer-emotional-state">ğŸ˜Š Ø­Ø§Ù„Ø§Øª Ø¹Ø§Ø·ÙÙŠØ©</label>
                    </div>
                    <div class="layer-checkbox">
                        <input type="checkbox" id="layer-property-change" value="property_change" checked>
                        <label for="layer-property-change">ğŸ“ˆ ØªØºÙŠØ± Ø§Ù„Ø®ØµØ§Ø¦Øµ</label>
                    </div>
                </div>

                <div class="buttons">
                    <button class="btn-process" onclick="processInput()">ğŸš€ Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¨Ø§Ù„Ø·Ø¨Ù‚Ø§Øª</button>
                    <button class="btn-reset" onclick="resetCore()">ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†ÙˆØ§Ø©</button>
                    <button class="btn-clear" onclick="clearResults()">ğŸ—‘ï¸ Ù…Ø³Ø­ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</button>
                </div>
            </div>

            <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ -->
            <div class="loading" id="loading">
                <div class="spinner"></div>
                <p>Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¨Ø§Ù„Ø·Ø¨Ù‚Ø§Øª Ø§Ù„Ø«Ù…Ø§Ù†ÙŠØ©...</p>
            </div>

            <!-- Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
            <div class="section" style="grid-column: 1 / -1;">
                <h2>ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù†ÙˆØ§Ø©</h2>
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-value" id="stat-total">0</div>
                        <div class="stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø§Øª</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stat-success">0%</div>
                        <div class="stat-label">Ù†Ø³Ø¨Ø© Ø§Ù„Ù†Ø¬Ø§Ø­</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stat-sync">0.00</div>
                        <div class="stat-label">Ù…ØªÙˆØ³Ø· Ø§Ù„ØªØ²Ø§Ù…Ù†</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stat-layers">8</div>
                        <div class="stat-label">Ø§Ù„Ø·Ø¨Ù‚Ø§Øª Ø§Ù„Ù†Ø´Ø·Ø©</div>
                    </div>
                </div>
            </div>

            <!-- Ø§Ù„Ù†ØªØ§Ø¦Ø¬ -->
            <div class="section results" id="results">
                <h2>ğŸ¯ Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©</h2>
                <div id="resultsContainer">
                    <p style="text-align: center; color: #999; padding: 40px;">
                        Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ø¨Ø¹Ø¯. Ù‚Ù… Ø¨Ø¥Ø¯Ø®Ø§Ù„ Ù†Øµ ÙˆØ§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¨Ø§Ù„Ø·Ø¨Ù‚Ø§Øª"
                    </p>
                </div>
            </div>

            <!-- Ù…ØµÙÙˆÙØ© Ø§Ù„ØªØ²Ø§Ù…Ù† -->
            <div class="section" style="grid-column: 1 / -1;">
                <h2>ğŸ”— Ù…ØµÙÙˆÙØ© Ø§Ù„ØªØ²Ø§Ù…Ù† Ø¨ÙŠÙ† Ø§Ù„Ø·Ø¨Ù‚Ø§Øª</h2>
                <div class="sync-matrix" id="syncMatrix">
                    <p style="text-align: center; color: #999; padding: 20px;">
                        Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ù…ØµÙÙˆÙØ© Ø§Ù„ØªØ²Ø§Ù…Ù† Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
                    </p>
                </div>
            </div>

            <!-- Ø§Ù„Ø±Ø¤Ù‰ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø© -->
            <div class="section" style="grid-column: 1 / -1;">
                <h2>ğŸ’¡ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„ ÙˆØ§Ù„Ø±Ø¤Ù‰ Ø§Ù„Ø«ÙˆØ±ÙŠØ©</h2>
                <div id="integratedInsights">
                    <p style="text-align: center; color: #999; padding: 20px;">
                        Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„ Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        import { MultiLayerThinkingCore } from './multi-layer-thinking-core.bn';
        import {
            EventActionThinkingLayer,
            EmotionalStateThinkingLayer,
            PropertyChangeThinkingLayer
        } from './additional-thinking-layers.bn';

        // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù†ÙˆØ§Ø© Ø§Ù„ØªÙÙƒÙŠØ±ÙŠØ© (11 Ø·Ø¨Ù‚Ø©: 8 Ø£Ø³Ø§Ø³ÙŠØ© + 3 Ø¥Ø¶Ø§ÙÙŠØ©)
        let thinkingCore = null;

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†ÙˆØ§Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('DOMContentLoaded', () => {
            try {
                thinkingCore = new MultiLayerThinkingCore("DemoCore");
                console.log("âœ… ØªÙ… ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†ÙˆØ§Ø© Ø§Ù„ØªÙÙƒÙŠØ±ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­");
                updateCoreStats();
            } catch (e) {
                console.error("âŒ Ø®Ø·Ø£ ÙÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†ÙˆØ§Ø©:", e);
                alert("Ø®Ø·Ø£ ÙÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†ÙˆØ§Ø© Ø§Ù„ØªÙÙƒÙŠØ±ÙŠØ©. ØªØ£ÙƒØ¯ Ù…Ù† ØªØ¬Ù…ÙŠØ¹ Ù…Ù„ÙØ§Øª Bayan Ø£ÙˆÙ„Ø§Ù‹.");
            }
        });

        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
        window.processInput = async function() {
            const inputText = document.getElementById('inputText').value.trim();

            if (!inputText) {
                alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù†Øµ Ù„Ù„ØªØ­Ù„ÙŠÙ„");
                return;
            }

            if (!thinkingCore) {
                alert("Ø§Ù„Ù†ÙˆØ§Ø© Ø§Ù„ØªÙÙƒÙŠØ±ÙŠØ© ØºÙŠØ± Ø¬Ø§Ù‡Ø²Ø©");
                return;
            }

            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø¨Ù‚Ø§Øª Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©
            const selectedLayers = [];
            document.querySelectorAll('.layer-checkbox input:checked').forEach(checkbox => {
                selectedLayers.push(checkbox.value);
            });

            if (selectedLayers.length === 0) {
                alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø·Ø¨Ù‚Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„");
                return;
            }

            // Ø¹Ø±Ø¶ Ø§Ù„ØªØ­Ù…ÙŠÙ„
            document.getElementById('loading').classList.add('active');
            document.getElementById('resultsContainer').innerHTML = '';

            try {
                // Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
                const result = thinkingCore.comprehensiveProcessing(inputText, selectedLayers);

                // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„ØªØ­Ù…ÙŠÙ„
                document.getElementById('loading').classList.remove('active');

                // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
                displayResults(result);

                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                updateCoreStats();

                // Ø¹Ø±Ø¶ Ù…ØµÙÙˆÙØ© Ø§Ù„ØªØ²Ø§Ù…Ù†
                displaySyncMatrix(result.synchronizationLevel);

                // Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø¤Ù‰ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©
                displayIntegratedInsights(result.integratedAnalysis);

            } catch (e) {
                document.getElementById('loading').classList.remove('active');
                console.error("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©:", e);
                alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©: " + e);
            }
        };

        // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
        function displayResults(result) {
            const container = document.getElementById('resultsContainer');
            container.innerHTML = '';

            if (!result.success) {
                container.innerHTML = `
                    <div class="result-item" style="border-left-color: #f44336;">
                        <h3>âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©</h3>
                        <div class="result-content">${result.error || 'Ø®Ø·Ø£ ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ'}</div>
                    </div>
                `;
                return;
            }

            // Ø¹Ø±Ø¶ Ù†ØªØ§Ø¦Ø¬ ÙƒÙ„ Ø·Ø¨Ù‚Ø©
            for (let layerName in result.layerResults) {
                const layerResult = result.layerResults[layerName];
                const layerIcons = {
                    mathematical: 'ğŸ”¢',
                    logical: 'ğŸ§©',
                    interpretive: 'ğŸ”®',
                    physical: 'âš›ï¸',
                    linguistic: 'ğŸ“š',
                    symbolic: 'ğŸŒŸ',
                    visual: 'ğŸ‘ï¸',
                    semantic: 'ğŸ’­'
                };

                const icon = layerIcons[layerName] || 'ğŸ”¹';

                container.innerHTML += `
                    <div class="result-item">
                        <h3>${icon} Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø·Ø¨Ù‚Ø© ${getLayerNameArabic(layerName)}</h3>
                        <div class="result-content">${JSON.stringify(layerResult, null, 2)}</div>
                    </div>
                `;
            }

            // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
            container.innerHTML += `
                <div class="result-item" style="border-left-color: #4caf50;">
                    <h3>â±ï¸ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©</h3>
                    <div class="result-content">
Ø§Ù„Ø·Ø¨Ù‚Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø©: ${result.processingLayers.join(', ')}
Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ²Ø§Ù…Ù†: ${result.synchronizationLevel.toFixed(3)}
ÙˆÙ‚Øª Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©: ${result.processingTime.toFixed(3)} Ø«Ø§Ù†ÙŠØ©
Ø§Ù„ÙˆÙ‚Øª: ${new Date(result.timestamp).toLocaleString('ar-SA')}
                    </div>
                </div>
            `;
        }

        // Ø¹Ø±Ø¶ Ù…ØµÙÙˆÙØ© Ø§Ù„ØªØ²Ø§Ù…Ù†
        function displaySyncMatrix(syncLevel) {
            const container = document.getElementById('syncMatrix');
            const matrix = thinkingCore.getSynchronizationMatrix();

            let html = '<table><thead><tr><th>Ø§Ù„Ø·Ø¨Ù‚Ø©</th>';

            const layers = Object.keys(matrix);
            layers.forEach(layer => {
                html += `<th>${getLayerNameArabic(layer)}</th>`;
            });
            html += '</tr></thead><tbody>';

            layers.forEach(layer1 => {
                html += `<tr><th>${getLayerNameArabic(layer1)}</th>`;
                layers.forEach(layer2 => {
                    if (layer1 === layer2) {
                        html += '<td>-</td>';
                    } else {
                        const value = matrix[layer1][layer2] || 0;
                        const className = value > 0.7 ? 'sync-level-high' :
                                        value > 0.4 ? 'sync-level-medium' : 'sync-level-low';
                        html += `<td class="${className}">${value.toFixed(2)}</td>`;
                    }
                });
                html += '</tr>';
            });

            html += '</tbody></table>';
            container.innerHTML = html;
        }

        // Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø¤Ù‰ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©
        function displayIntegratedInsights(analysis) {
            const container = document.getElementById('integratedInsights');

            let html = `
                <div class="insights">
                    <h3>ğŸ¯ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„</h3>
                    <div class="insight-item">
                        <strong>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ø¨Ù‚Ø§Øª:</strong> ${analysis.totalLayers}
                    </div>
                    <div class="insight-item">
                        <strong>Ø§Ù„Ø·Ø¨Ù‚Ø§Øª Ø§Ù„Ù†Ø§Ø¬Ø­Ø©:</strong> ${analysis.successfulLayers}
                    </div>
                    <div class="insight-item">
                        <strong>Ù…ØªÙˆØ³Ø· Ø§Ù„Ø«Ù‚Ø©:</strong> ${(analysis.averageConfidence * 100).toFixed(1)}%
                    </div>
                    <div class="insight-item">
                        <strong>Ø§Ù„Ù…ÙˆØ§Ø¶ÙŠØ¹ Ø§Ù„Ù…Ù‡ÙŠÙ…Ù†Ø©:</strong> ${analysis.dominantThemes.join(', ')}
                    </div>
                </div>

                <div class="insights" style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);">
                    <h3>ğŸŒŸ Ø§Ù„Ø±Ø¤Ù‰ Ø§Ù„Ù…ØªÙ‚Ø§Ø·Ø¹Ø©</h3>
                    ${analysis.crossLayerInsights.map(insight =>
                        `<div class="insight-item">${insight}</div>`
                    ).join('')}
                </div>

                <div class="insights" style="background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);">
                    <h3>ğŸš€ Ø§Ù„ØªØ±ÙƒÙŠØ¨ Ø§Ù„Ø«ÙˆØ±ÙŠ</h3>
                    <div class="insight-item">
                        <strong>Ø«Ù†Ø§Ø¦ÙŠØ© Ø§Ù„ØµÙØ±:</strong> ${analysis.revolutionarySynthesis.zeroDualityManifestation}
                    </div>
                    <div class="insight-item">
                        <strong>Ø§Ù„ØªÙƒØ§Ù…Ù„ Ø¨Ø§Ù„ØªØ¹Ø§Ù…Ø¯:</strong> ${analysis.revolutionarySynthesis.perpendicularIntegration}
                    </div>
                    <div class="insight-item">
                        <strong>Ø¨Ù†Ø§Ø¡ Ø§Ù„ÙØªØ§Ø¦Ù„:</strong> ${analysis.revolutionarySynthesis.filamentConstruction}
                    </div>
                    <div class="insight-item">
                        <strong>Ø§Ù„ÙÙ‡Ù… Ø§Ù„Ù…ÙˆØ­Ø¯:</strong> ${analysis.revolutionarySynthesis.unifiedUnderstanding}
                    </div>
                </div>
            `;

            container.innerHTML = html;
        }

        // ØªØ­Ø¯ÙŠØ« Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù†ÙˆØ§Ø©
        function updateCoreStats() {
            if (!thinkingCore) return;

            const status = thinkingCore.getCoreStatus();

            document.getElementById('stat-total').textContent = status.totalProcessed;
            document.getElementById('stat-success').textContent = (status.successRate * 100).toFixed(1) + '%';
            document.getElementById('stat-sync').textContent = status.averageSyncLevel.toFixed(2);
            document.getElementById('stat-layers').textContent = status.activeLayers;
        }

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†ÙˆØ§Ø©
        window.resetCore = function() {
            if (!thinkingCore) return;

            if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø·Ø¨Ù‚Ø§ØªØŸ')) {
                thinkingCore.resetAllLayers();
                updateCoreStats();
                alert('âœ… ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†ÙˆØ§Ø© Ø¨Ù†Ø¬Ø§Ø­');
            }
        };

        // Ù…Ø³Ø­ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
        window.clearResults = function() {
            document.getElementById('resultsContainer').innerHTML = `
                <p style="text-align: center; color: #999; padding: 40px;">
                    Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ø¨Ø¹Ø¯. Ù‚Ù… Ø¨Ø¥Ø¯Ø®Ø§Ù„ Ù†Øµ ÙˆØ§Ø¶ØºØ· Ø¹Ù„Ù‰ "Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¨Ø§Ù„Ø·Ø¨Ù‚Ø§Øª"
                </p>
            `;
            document.getElementById('syncMatrix').innerHTML = `
                <p style="text-align: center; color: #999; padding: 20px;">
                    Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ù…ØµÙÙˆÙØ© Ø§Ù„ØªØ²Ø§Ù…Ù† Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
                </p>
            `;
            document.getElementById('integratedInsights').innerHTML = `
                <p style="text-align: center; color: #999; padding: 20px;">
                    Ø³ÙŠØªÙ… Ø¹Ø±Ø¶ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„ Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
                </p>
            `;
        };

        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ø§Ù„Ø·Ø¨Ù‚Ø© Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©
        function getLayerNameArabic(layerName) {
            const names = {
                mathematical: 'Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ©',
                logical: 'Ø§Ù„Ù…Ù†Ø·Ù‚ÙŠØ©',
                interpretive: 'Ø§Ù„ØªÙØ³ÙŠØ±ÙŠØ©',
                physical: 'Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ©',
                linguistic: 'Ø§Ù„Ù„ØºÙˆÙŠØ©',
                symbolic: 'Ø§Ù„Ø±Ù…Ø²ÙŠØ©',
                visual: 'Ø§Ù„Ø¨ØµØ±ÙŠØ©',
                semantic: 'Ø§Ù„Ø¯Ù„Ø§Ù„ÙŠØ©',
                event_action: 'Ø§Ù„Ø£Ø­Ø¯Ø§Ø« ÙˆØ§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª',
                emotional_state: 'Ø§Ù„Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø¹Ø§Ø·ÙÙŠØ©',
                property_change: 'ØªØºÙŠØ± Ø§Ù„Ø®ØµØ§Ø¦Øµ'
            };
            return names[layerName] || layerName;
        }
    </script>
</body>
</html>

