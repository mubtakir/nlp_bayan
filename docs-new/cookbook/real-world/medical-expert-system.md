# ๐ฅ ูุธุงู ุฎุจูุฑ ุทุจู ุจุณูุท

ูุซุงู ุนููู ููุถุญ ููุฉ ุงูุจุฑูุฌุฉ ุงููุฌููุฉ ูู Bayan ูุจูุงุก ูุธุงู ุชุดุฎูุต ุทุจู.

---

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงููุซุงู ูุจูู ูุธุงู ุฎุจูุฑ ุจุณูุท ูุณุชุฎุฏู:
- **ุงูุจุฑูุฌุฉ ุงูููุทููุฉ** ูุชุฎุฒูู ุงููุนุฑูุฉ ุงูุทุจูุฉ
- **ุงูุจุฑูุฌุฉ ุงูุฅุฌุฑุงุฆูุฉ** ููุนุงูุฌุฉ ุงููุฏุฎูุงุช ูุงููุฎุฑุฌุงุช
- **ุงูุงุญุชูุงูุงุช** ูุญุณุงุจ ุซูุฉ ุงูุชุดุฎูุต

---

## ๐ฏ ุงููุชุทูุจุงุช

ูุง ุชูุฌุฏ ูุชุทูุจุงุช ุฎุงุฑุฌูุฉ - ูุนูู ูุจุงุดุฑุฉ!

---

## ๐ป ุงูููุฏ ุงููุงูู

```bayan
# medical_expert_system.bayan
# ูุธุงู ุฎุจูุฑ ุทุจู ุจุณูุท ููุชุดุฎูุต

hybrid {
    # ===== ูุงุนุฏุฉ ุงููุนุฑูุฉ ุงูุทุจูุฉ =====
    
    # ุงูุฃุนุฑุงุถ ูุงูุฃูุฑุงุถ ูุน ุฏุฑุฌุฉ ุงูุงุฑุชุจุงุท (0.0 - 1.0)
    fact symptom("ุญูู", "ุงูููููุฒุง", 0.8).
    fact symptom("ุณุนุงู", "ุงูููููุฒุง", 0.7).
    fact symptom("ุงุญุชูุงู_ุญูู", "ุงูููููุฒุง", 0.6).
    fact symptom("ุตุฏุงุน", "ุงูููููุฒุง", 0.5).
    
    fact symptom("ุญูู", "ููููุฏ-19", 0.9).
    fact symptom("ุณุนุงู", "ููููุฏ-19", 0.8).
    fact symptom("ููุฏุงู_ุดู", "ููููุฏ-19", 0.9).
    fact symptom("ุถูู_ุชููุณ", "ููููุฏ-19", 0.8).
    
    fact symptom("ุตุฏุงุน", "ุตุฏุงุน_ูุตูู", 0.9).
    fact symptom("ุบุซูุงู", "ุตุฏุงุน_ูุตูู", 0.6).
    fact symptom("ุญุณุงุณูุฉ_ุถูุก", "ุตุฏุงุน_ูุตูู", 0.7).
    
    fact symptom("ุญูู", "ุงูุชูุงุจ_ุญูู", 0.7).
    fact symptom("ุงุญุชูุงู_ุญูู", "ุงูุชูุงุจ_ุญูู", 0.9).
    fact symptom("ุตุนูุจุฉ_ุจูุน", "ุงูุชูุงุจ_ุญูู", 0.8).
    
    # ููุงุนุฏ ููุทููุฉ ููุชุดุฎูุต
    rule possible_disease(?disease) :-
        symptom(?s, ?disease, ?conf),
        has_symptom(?s).
    
    # ุญุณุงุจ ุซูุฉ ุงูุชุดุฎูุต
    rule diagnosis_confidence(?disease, ?total_conf) :-
        possible_disease(?disease),
        // ุฌูุน ุฌููุน ุงูุฃุนุฑุงุถ ุงููุชุทุงุจูุฉ
        findall(?conf, (symptom(?s, ?disease, ?conf), has_symptom(?s)), ?confs),
        // ุญุณุงุจ ุงููุชูุณุท
        ?total_conf = average(?confs).
    
    # ===== ุงูุฏูุงู ุงูุฅุฌุฑุงุฆูุฉ =====
    
    def average(numbers) {
        """ุญุณุงุจ ูุชูุณุท ูุงุฆูุฉ ูู ุงูุฃุฑูุงู"""
        if (len(numbers) == 0) {
            return 0.0
        }
        return sum(numbers) / len(numbers)
    }
    
    def get_symptoms_from_user() {
        """ุงูุญุตูู ุนูู ุงูุฃุนุฑุงุถ ูู ุงููุณุชุฎุฏู"""
        print("=== ูุธุงู ุงูุชุดุฎูุต ุงูุทุจู ===")
        print("\nุงูุฃุนุฑุงุถ ุงููุชุงุญุฉ:")
        print("1. ุญูู")
        print("2. ุณุนุงู")
        print("3. ุงุญุชูุงู_ุญูู")
        print("4. ุตุฏุงุน")
        print("5. ููุฏุงู_ุดู")
        print("6. ุถูู_ุชููุณ")
        print("7. ุบุซูุงู")
        print("8. ุญุณุงุณูุฉ_ุถูุก")
        print("9. ุตุนูุจุฉ_ุจูุน")
        
        symptoms = []
        print("\nุฃุฏุฎู ุฃุนุฑุงุถู (ุงูุชุจ 'ุชู' ููุงูุชูุงุก):")
        
        while (True) {
            symptom_input = input("ุนุฑุถ: ").strip()
            
            if (symptom_input == "ุชู" or symptom_input == "") {
                break
            }
            
            symptoms.append(symptom_input)
        }
        
        return symptoms
    }
    
    def diagnose(symptoms) {
        """ุชุดุฎูุต ุงููุฑุถ ุจูุงุกู ุนูู ุงูุฃุนุฑุงุถ"""
        
        # ุชูุธูู ุงูุญูุงุฆู ุงูุณุงุจูุฉ
        retractall(has_symptom(?)).
        
        # ุฅุถุงูุฉ ุงูุฃุนุฑุงุถ ุงูุฌุฏูุฏุฉ
        for s in (symptoms) {
            assertz(has_symptom(s))
        }
        
        # ุงูุงุณุชุนูุงู ุนู ุงูุชุดุฎูุตุงุช ุงููุญุชููุฉ
        results = query diagnosis_confidence(?disease, ?conf)
        
        # ุชุฑุชูุจ ุญุณุจ ุงูุซูุฉ
        sorted_results = sorted(
            results,
            key=lambda x: x["?conf"],
            reverse=True
        )
        
        return sorted_results
    }
    
    def display_diagnosis(results, symptoms) {
        """ุนุฑุถ ูุชุงุฆุฌ ุงูุชุดุฎูุต"""
        
        print("\n" + "="*50)
        print("๐ ุชูุฑูุฑ ุงูุชุดุฎูุต")
        print("="*50)
        
        if (len(symptoms) == 0) {
            print("โ๏ธ  ูู ูุชู ุฅุฏุฎุงู ุฃู ุฃุนุฑุงุถ!")
            return
        }
        
        print(f"\n๐ ุงูุฃุนุฑุงุถ ุงููุฏุฎูุฉ: {', '.join(symptoms)}")
        
        if (len(results) == 0) {
            print("\nโ ูู ูุชู ุงูุนุซูุฑ ุนูู ุชุดุฎูุต ูุญุชูู.")
            print("๐ก ุชุฃูุฏ ูู ูุชุงุจุฉ ุงูุฃุนุฑุงุถ ุจุดูู ุตุญูุญ.")
            return
        }
        
        print("\n๐ฅ ุงูุชุดุฎูุตุงุช ุงููุญุชููุฉ:\n")
        
        for i in (range(min(3, len(results)))) {
            disease = results[i]["?disease"]
            confidence = results[i]["?conf"]
            percentage = confidence * 100
            
            # ุชุญุฏูุฏ ูุณุชูู ุงูุซูุฉ
            if (confidence >= 0.7) {
                level = "๐ด ุนุงูู"
            } elif (confidence >= 0.5) {
                level = "๐ก ูุชูุณุท"  
            } else {
                level = "๐ข ููุฎูุถ"
            }
            
            print(f"{i+1}. {disease}")
            print(f"   ุฏุฑุฌุฉ ุงูุซูุฉ: {percentage:.1f}% {level}")
            print()
        }
        
        print("="*50)
        print("โ๏ธ  ูุฐุง ุชุดุฎูุต ุฃููู ููุท!")
        print("๐ ูููุตุญ ุจูุฑุงุฌุนุฉ ุทุจูุจ ูุฎุชุต.")
        print("="*50)
    }
    
    # ===== ุงูุจุฑูุงูุฌ ุงูุฑุฆูุณู =====
    
    def main() {
        """ููุทุฉ ุงูุจุฏุงูุฉ ููุจุฑูุงูุฌ"""
        
        print("\n๐ฅ ูุฑุญุจุงู ุจู ูู ูุธุงู ุงูุชุดุฎูุต ุงูุทุจู ุงูุฐูู")
        print("โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ\n")
        
        # ุงูุญุตูู ุนูู ุงูุฃุนุฑุงุถ
        symptoms = get_symptoms_from_user()
        
        # ุงูุชุดุฎูุต
        diagnosis_results = diagnose(symptoms)
        
        # ุนุฑุถ ุงููุชุงุฆุฌ
        display_diagnosis(diagnosis_results, symptoms)
        
        print("\nโจ ุดูุฑุงู ูุงุณุชุฎุฏุงูู ุงููุธุงู!")
    }
    
    # ุชุดุบูู ุงูุจุฑูุงูุฌ
    main()
}
```

---

## ๐ฎ ููููุฉ ุงูุชุดุบูู

```bash
# ุงุญูุธ ุงูููู
# medical_expert_system.bayan

# ุดุบููู
python -m bayan.bayan.cli medical_expert_system.bayan
```

---

## ๐ ูุซุงู ุนูู ุงูุงุณุชุฎุฏุงู

```
๐ฅ ูุฑุญุจุงู ุจู ูู ูุธุงู ุงูุชุดุฎูุต ุงูุทุจู ุงูุฐูู
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

=== ูุธุงู ุงูุชุดุฎูุต ุงูุทุจู ===

ุงูุฃุนุฑุงุถ ุงููุชุงุญุฉ:
1. ุญูู
2. ุณุนุงู
3. ุงุญุชูุงู_ุญูู
4. ุตุฏุงุน
5. ููุฏุงู_ุดู
6. ุถูู_ุชููุณ
7. ุบุซูุงู
8. ุญุณุงุณูุฉ_ุถูุก
9. ุตุนูุจุฉ_ุจูุน

ุฃุฏุฎู ุฃุนุฑุงุถู (ุงูุชุจ 'ุชู' ููุงูุชูุงุก):
ุนุฑุถ: ุญูู
ุนุฑุถ: ุณุนุงู
ุนุฑุถ: ููุฏุงู_ุดู
ุนุฑุถ: ุชู

==================================================
๐ ุชูุฑูุฑ ุงูุชุดุฎูุต
==================================================

๐ ุงูุฃุนุฑุงุถ ุงููุฏุฎูุฉ: ุญูู, ุณุนุงู, ููุฏุงู_ุดู

๐ฅ ุงูุชุดุฎูุตุงุช ุงููุญุชููุฉ:

1. ููููุฏ-19
   ุฏุฑุฌุฉ ุงูุซูุฉ: 86.7% ๐ด ุนุงูู

2. ุงูููููุฒุง
   ุฏุฑุฌุฉ ุงูุซูุฉ: 75.0% ๐ด ุนุงูู

==================================================
โ๏ธ  ูุฐุง ุชุดุฎูุต ุฃููู ููุท!
๐ ูููุตุญ ุจูุฑุงุฌุนุฉ ุทุจูุจ ูุฎุชุต.
==================================================

โจ ุดูุฑุงู ูุงุณุชุฎุฏุงูู ุงููุธุงู!
```

---

## ๐ ุดุฑุญ ุงูููุฏ

### 1. ูุงุนุฏุฉ ุงููุนุฑูุฉ (Logic Programming)

```bayan
fact symptom("ุญูู", "ุงูููููุฒุง", 0.8).
```
- **ุญูุงุฆู** ุชุฑุจุท ุงูุฃุนุฑุงุถ ุจุงูุฃูุฑุงุถ
- ุงูุฑูู ุงูุซุงูุซ: **ุซูุฉ ุงูุงุฑุชุจุงุท** (0.0 - 1.0)

### 2. ุงูููุงุนุฏ ุงูููุทููุฉ

```bayan
rule possible_disease(?disease) :-
    symptom(?s, ?disease, ?conf),
    has_symptom(?s).
```
- ุชุฌุฏ ุงูุฃูุฑุงุถ ุงููุญุชููุฉ ุจูุงุกู ุนูู ุงูุฃุนุฑุงุถ

### 3. ุงูุฏูุงู ุงูุฅุฌุฑุงุฆูุฉ

```bayan
def diagnose(symptoms) {
    # ููุทู ุงูุชุดุฎูุต
}
```
- ูุนุงูุฌุฉ ุงูุจูุงูุงุช ูุนุฑุถ ุงููุชุงุฆุฌ

---

## ๐ฏ ุงูุชูุณุนุงุช ุงูููููุฉ

### 1. ุฅุถุงูุฉ ุฃูุฑุงุถ ุฌุฏูุฏุฉ
```bayan
fact symptom("ุฃูู_ุตุฏุฑ", "ููุจุฉ_ููุจูุฉ", 0.9).
fact symptom("ุถูู_ุชููุณ", "ููุจุฉ_ููุจูุฉ", 0.8).
```

### 2. ุฅุถุงูุฉ ุนูุงูู ุฎุทุฑ
```bayan
fact risk_factor("ุชุฏุฎูู", "ุณุฑุทุงู_ุฑุฆุฉ", 0.7).
fact risk_factor("ุณููุฉ", "ุณูุฑู", 0.6).
```

### 3. ุชุงุฑูุฎ ุงูุนุงุฆูุฉ
```bayan
rule genetic_risk(?disease) :-
    family_history(?disease),
    genetic_predisposition(?disease, ?risk).
```

### 4. ูุงุนุฏุฉ ุจูุงูุงุช ุญููููุฉ
```python
# ุงุณุชุฎุฏุงู SQLite ุฃู MongoDB
import sqlite3
# ุชุฎุฒูู ููุฑุงุกุฉ ุงูุญุงูุงุช ุงูุณุงุจูุฉ
```

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

1. **ูุฐุง ูุซุงู ุชุนูููู ููุท** - ููุณ ููุงุณุชุฎุฏุงู ุงูุทุจู ุงููุนูู
2. **ุงูุชุดุฎูุต ุงูุญูููู** ูุญุชุงุฌ ุฎุจูุฑ ุทุจู
3. **ุงูุจูุงูุงุช ูุจุณุทุฉ** - ุงููุงูุน ุฃูุซุฑ ุชุนููุฏุงู
4. **ูุง ูุญู ูุญู ุงูุทุจูุจ** - ูุฌุฑุฏ ุฃุฏุงุฉ ูุณุงุนุฏุฉ

---

## ๐ ูุง ุชุนูููุงู

โ **ุงูุจุฑูุฌุฉ ุงููุฌููุฉ**: ุฏูุฌ ุงูููุทู ูุน ุงูุฅุฌุฑุงุฆู  
โ **ููุงุนุฏ ุงููุนุฑูุฉ**: ุชุฎุฒูู ุงููุนูููุงุช ูุญูุงุฆู  
โ **ุงูุงุณุชุนูุงูุงุช ุงูููุทููุฉ**: ุงูุจุญุซ ูู ุงููุนุฑูุฉ  
โ **ุญุณุงุจ ุงูุซูุฉ**: ุงุณุชุฎุฏุงู ุงูุงุญุชูุงูุงุช  
โ **UI ุจุณูุท**: ุชูุงุนู ูุน ุงููุณุชุฎุฏู  

---

## ๐ ุงููุฒูุฏ

- [ุฏููู ุงูุจุฑูุฌุฉ ุงูููุทููุฉ](../../language-guide/paradigms/logic.md)
- [ุงูุจุฑูุฌุฉ ุงููุฌููุฉ](../../tutorials/intermediate/hybrid-programming.md)
- [ุฃูุซูุฉ ุฃุฎุฑู](../README.md)

---

[โ ุงูุนูุฏุฉ ูู Cookbook](../README.md)
