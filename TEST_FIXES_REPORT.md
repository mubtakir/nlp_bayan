# ุชูุฑูุฑ ุฅุตูุงุญ ุงูุงุฎุชุจุงุฑุงุช
# Test Fixes Report

**ุงูุชุงุฑูุฎ:** 2025-11-17  
**ุงููุดุฑูุน:** ูุบุฉ ุงูุจูุงู (Bayan Programming Language)  
**ุงูุญุงูุฉ ุงูุฃูููุฉ:** 144 ุงุฎุชุจุงุฑ ูุงุดู ูู ุฃุตู 605 (76.2% ูุฌุงุญ)

---

## ๐ ููุฎุต ุงูุฅุตูุงุญุงุช

| ุงูููู | ุงูุญุงูุฉ | ุงูููุงุญุธุงุช |
|------|--------|-----------|
| `nlp_bayan/core/generator_pipeline.bayan` | โ ูุตูุญ ุฌุฒุฆูุงู | ุฅุฒุงูุฉ tabs |
| `nlp_bayan/core/integrated_kb.bayan` | ๐ ููุฏ ุงูุฅุตูุงุญ | ุชุบููุฑ hybrid โ logical |

---

## ๐ง ุงูุฅุตูุงุญุงุช ุงูููุฌุฒุฉ

### 1. ุฅุตูุงุญ Tabs ูู generator_pipeline.bayan

**ุงูุชุงุฑูุฎ:** 2025-11-17  
**ุงูููู:** `nlp_bayan/core/generator_pipeline.bayan`  
**ุงูุญุงูุฉ:** โ ูุตูุญ

#### ุงููุดููุฉ:
ูุงูุช ููุงู tabs (`\t`) ูู ุงูุณุทูุฑ 338-340 ู 355-360 ุจุฏูุงู ูู spaces. ูุฐุง ูุณุจุจ ูุดููุฉ ูู parser ูุฃู Bayan ูุชููุน spaces ููุท.

#### ุงูุณุจุจ:
ูุญุฑุฑ ูุต ุงุณุชุฎุฏู tabs ุจุฏูุงู ูู spaces.

#### ุงูุญู:
```python
# Replace all tabs with 4 spaces
content = content.replace('\t', '    ')
```

#### ุงูุงุฎุชุจุงุฑ ุจุนุฏ ุงูุฅุตูุงุญ:
```bash
python -m pytest tests/test_nlp_bayan_generation.py::test_morpho_inserts_min_for_ghadara -v
# ุงููุชูุฌุฉ: ูุง ุฒุงู ูุงุดู (ูุดููุฉ ุฃุฎุฑู)
```

---

### 2. ุฅุตูุงุญ hybrid/logical ูู integrated_kb.bayan

**ุงูุชุงุฑูุฎ:** 2025-11-17  
**ุงูููู:** `nlp_bayan/core/integrated_kb.bayan`  
**ุงูุญุงูุฉ:** ๐ ููุฏ ุงูุฅุตูุงุญ

#### ุงููุดููุฉ:
ุงูููู ูุงู ูุญุชูู ุนูู:
1. ุญูุงุฆู ููุทููุฉ (facts) ุฏุงุฎู `hybrid { }` ุจุฏูุงู ูู `logical { }`
2. ุฏูุงู Python ุฎุงุฑุฌ ุฃู block

#### ุงูุณุจุจ:
ุฎุทุฃ ูู ููู ุจููุฉ Bayan. ูู Bayan:
- `logical { }` ููุญูุงุฆู ูุงูููุงุนุฏ ุงูููุทููุฉ (facts and rules)
- `hybrid { }` ููููุฏ ุงูุชูููุฏู (functions, variables, etc.)

#### ุงูุญู (ุฌุฒุฆู):
1. โ ุชุบููุฑ ุงูุณุทุฑ 4 ูู `hybrid {` ุฅูู `logical {`
2. โ ุฅุถุงูุฉ `hybrid {` ูุจู ุงูุฏูุงู (ุงูุณุทุฑ 215)
3. โ ุฅุตูุงุญ indentation ููุฏูุงู

#### ุงููุดููุฉ ุงููุชุจููุฉ:
ูุง ุฒุงู ููุงู ุฎุทุฃ ูู parsing ุงููุงููุณ ุฏุงุฎู `load_selective()`. ูุจุฏู ุฃู ุงููุงููุณ ูุญุชูู ุนูู syntax ุฎุงุทุฆ.

#### ุงูุฎุทูุงุช ุงูุชุงููุฉ:
1. ูุญุต ุงููุงููุณ `domains` ูู `load_selective()`
2. ุงูุชุฃูุฏ ูู ุฃู ูู ุงูููุงุนุฏ ุงูููุทููุฉ ูู `logical { }`
3. ุงูุชุฃูุฏ ูู ุฃู ูู ุงูุฏูุงู ูู `hybrid { }`

---

## โ๏ธ ุงููุดุงูู ุงูููุชุดูุฉ

### 1. ุฎูุท ุจูู hybrid ู logical blocks

**ุงููุตู:** ุงูุนุฏูุฏ ูู ูููุงุช `nlp_bayan/` ุชุญุชูู ุนูู ุญูุงุฆู ููุทููุฉ ุฏุงุฎู `hybrid { }` blocks.

**ุงูุชุฃุซูุฑ:** ูุณุจุจ SyntaxError ุนูุฏ parsing.

**ุงูุญู ุงููุทููุจ:** ูุฑุงุฌุนุฉ ุฌููุน ูููุงุช `nlp_bayan/` ูุงูุชุฃูุฏ ูู:
- ูู ุงูุญูุงุฆู ูุงูููุงุนุฏ ุงูููุทููุฉ (facts, rules) ูู `logical { }`
- ูู ุงูุฏูุงู ูุงููุชุบูุฑุงุช ูู `hybrid { }`

**ุงููููุงุช ุงููุชุฃุซุฑุฉ:**
- `nlp_bayan/core/integrated_kb.bayan` โ ููุฏ ุงูุฅุตูุงุญ
- ุฑุจูุง ูููุงุช ุฃุฎุฑู (ูุญุชุงุฌ ูุญุต)

---

### 2. ุงุณุชุฎุฏุงู Tabs ุจุฏูุงู ูู Spaces

**ุงููุตู:** ุจุนุถ ุงููููุงุช ุชุญุชูู ุนูู tabs.

**ุงูุชุฃุซูุฑ:** ูุณุจุจ ูุดุงูู ูู parsing.

**ุงูุญู ุงููุทููุจ:** ุงุณุชุจุฏุงู ูู tabs ุจู 4 spaces ูู ุฌููุน ูููุงุช `.bayan`.

**ุงููููุงุช ุงููุชุฃุซุฑุฉ:**
- `nlp_bayan/core/generator_pipeline.bayan` โ ูุตูุญ
- ุฑุจูุง ูููุงุช ุฃุฎุฑู (ูุญุชุงุฌ ูุญุต)

---

## ๐ ุงูุงุฎุชุจุงุฑุงุช ุงููุณุชูุฏูุฉ

### test_nlp_bayan_generation.py (8 ุงุฎุชุจุงุฑุงุช)

#### 1. test_morpho_inserts_min_for_ghadara
**ุงูุญุงูุฉ:** โ ูุงุดู  
**ุงูุฎุทุฃ ุงูุญุงูู:** `SyntaxError: Expected TokenType.RBRACE, got TokenType.IMPLIES`  
**ุงูููู ุงููุนูู:** `nlp_bayan/core/integrated_kb.bayan`  
**ุงูุณุจุจ:** ุฎูุท ุจูู hybrid ู logical syntax  
**ุงูุฎุทูุงุช ุงูุชุงููุฉ:** ุฅููุงู ุฅุตูุงุญ integrated_kb.bayan

---

## ๐ฏ ุงูุฎุทุฉ ุงููุงุฏูุฉ

### ุงููุฑุญูุฉ 1: ุฅุตูุงุญ integrated_kb.bayan (ุฌุงุฑู)
1. โ ุชุบููุฑ hybrid โ logical ููุญูุงุฆู
2. โ ุฅุถุงูุฉ hybrid block ููุฏูุงู
3. ๐ ุฅุตูุงุญ ุงููุงููุณ ูู load_selective()
4. โณ ุงุฎุชุจุงุฑ ูุฑุฉ ุฃุฎุฑู

### ุงููุฑุญูุฉ 2: ูุญุต ูููุงุช nlp_bayan ุงูุฃุฎุฑู
1. ุงูุจุญุซ ุนู ูููุงุช ุฃุฎุฑู ุจูุง ููุณ ุงููุดููุฉ
2. ุฅุตูุงุญูุง
3. ุงุฎุชุจุงุฑ

### ุงููุฑุญูุฉ 3: ุงุฎุชุจุงุฑ test_morpho_inserts_min_for_ghadara
1. ุชุดุบูู ุงูุงุฎุชุจุงุฑ
2. ุฅุตูุงุญ ุฃู ุฃุฎุทุงุก ูุชุจููุฉ
3. ุงูุงูุชูุงู ููุงุฎุชุจุงุฑ ุงูุชุงูู

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

**ุงูููุช ุงููุณุชุบุฑู ุญุชู ุงูุขู:** ~30 ุฏูููุฉ  
**ุงูุฅุตูุงุญุงุช ุงูููุฌุฒุฉ:** 2 (ุฌุฒุฆูุฉ)  
**ุงูุงุฎุชุจุงุฑุงุช ุงููุตูุญุฉ:** 0  
**ุงูุงุฎุชุจุงุฑุงุช ุงููุชุจููุฉ:** 144

**ุงูุชูุฏูุฑ:** ุฅุตูุงุญ ูู ุงูุงุฎุชุจุงุฑุงุช ุณูุณุชุบุฑู 5-7 ุฃูุงู ุนูู.

---

## ๐ก ุงูุฏุฑูุณ ุงููุณุชูุงุฏุฉ

1. **Bayan syntax ุตุงุฑู:** ูุฌุจ ุงูุชูููุฒ ุจูู `logical { }` ู `hybrid { }`
2. **Tabs ููููุนุฉ:** ุงุณุชุฎุฏู spaces ููุท
3. **ุงูุงุฎุชุจุงุฑุงุช ุชูุดู ูุดุงูู ุนูููุฉ:** ุงููุดููุฉ ููุณุช ูู ุงูุงุฎุชุจุงุฑุ ุจู ูู ุงูููุฏ ุงูุฃุณุงุณู

---

**ุขุฎุฑ ุชุญุฏูุซ:** 2025-11-17 (ุฌุงุฑู ุงูุนูู)

