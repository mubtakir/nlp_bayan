# دليل لغة البيان - الجزء الثالث (الجزء 1): مقدمة في البرمجة المنطقية

<div dir="rtl">

> هذا الملف جزء من سلسلة مقسّمة. راجع PART2/3/4 لمزيد من المواضيع المتقدمة.

## المحتويات
- ما هي البرمجة المنطقية؟
- الحقائق (Facts)
- الاستعلامات (Queries)

---

## مقدمة سريعة

البرمجة المنطقية تصف "ما هو صحيح" عبر حقائق وقواعد؛ ثم نستعلم عمّا يترتب.

## الحقائق والاستعلامات

```bayan
هجين {
    # حقائق: أحمد أب لمحمد وسارة
    أب("أحمد", "محمد").
    أب("أحمد", "سارة").

    # قاعدة: أخوّة بين من يشتركان في نفس الأب
    أخوّة(?شخص1, ?شخص2) :- أب(?أب_مشترك, ?شخص1), أب(?أب_مشترك, ?شخص2), ?شخص1 != ?شخص2.
}

# استعلام عربي مباشر
استعلام أخوّة("محمد", ?أخ_أو_أخت).
```

## مثال كيانات ضمن المنطق (إنجليزي)

```bayan
هجين {
    entity Ahmed { "states": {"hunger": 0.6} }
    entity John  { "actions": {"feed": {"effects": [{"on": "hunger", "formula": "value - 0.4*action_value"}]}}}
    apply John.feed(Ahmed, action_value=1.0)
}
استعلام state("Ahmed", "hunger", ?V).
```



---

## 1. مقدمة في البرمجة المنطقية

### 1.1 ما هي البرمجة المنطقية؟
- الحقائق (Facts): معلومات صحيحة.
- القواعد (Rules): علاقات منطقية تُشتق منها نتائج.
- الاستعلامات (Queries): أسئلة نستخرج بها النتائج.

### 1.2 الفرق بين الإجرائية والمنطقية

```bayan
هجين {
    # إجرائي: نخبر الحاسوب كيف
    دالة هو_أب(شخص1, شخص2): {
        اذا شخص1 == "أحمد" و شخص2 == "محمد": {
            ارجع صحيح
        }
        ارجع خطأ
    }
}
```

```bayan
هجين {
    # منطقي: نعلن ما نريد
    أب("أحمد", "محمد").

    النتائج = استعلام أب("أحمد", ?X)?
}
```

---

## 2. الحقائق (Facts)

### 2.1 حقيقة بسيطة
```bayan
هجين {
    أب("أحمد", "محمد").
}
```

### 2.2 حقائق متعددة
```bayan
هجين {
    أب("أحمد", "محمد").
    أب("أحمد", "فاطمة").
    عمر("أحمد", 50).
    عمر("محمد", 25).
}
```

### 2.3 أنواع مختلفة
```bayan
هجين {
    مدينة("الرياض").
    مدينة("جدة").
    درجة_حرارة("الرياض", 35).
    عاصمة("الرياض", صحيح).
}
```


---

## 3. الاستعلامات (Queries)

### 3.1 استعلام بسيط
```bayan
هجين {
    أب("أحمد", "محمد").
    النتائج = استعلام أب("أحمد", "محمد")?
    اذا len(النتائج) > 0: { اطبع("نعم") }
}
```

### 3.2 استعلام مع متغير
```bayan
هجين {
    أب("أحمد", "محمد").
    أب("أحمد", "فاطمة").

    النتائج = استعلام أب("أحمد", ?ابن)?
    لكل ن في النتائج: { اطبع(ن["?ابن"]) }
}
```

### 3.3 استعلام متعدد المتغيرات
```bayan
هجين {
    أب("أحمد", "محمد").
    أب("فاطمة", "سارة").

    النتائج = استعلام أب(?والد, ?ابن)?
    لكل ن في النتائج: {
        اطبع(ن["?والد"])  # parent
        اطبع(ن["?ابن"])  # child
    }
}
```

---

## 4. المتغيرات المنطقية

### 4.1 تعريف المتغيرات
```bayan
هجين {
    أب("أحمد", "محمد").
    النتائج = استعلام أب(?س, "محمد")?
}
```

### 4.2 متغيرات متعددة
```bayan
هجين {
    يحب("أحمد", "برمجة").
    يحب("فاطمة", "رياضيات").

    النتائج = استعلام يحب(?شخص, ?شيء)?
    لكل س في النتائج: { اطبع(س["?شخص"] + " يحب " + س["?شيء"]) }
}
```

### 4.3 نفس المتغير في أكثر من موضع
```bayan
هجين {
    يحب("أحمد", "برمجة").
    يحب("أحمد", "رياضيات").
    يحب("فاطمة", "برمجة").

    النتائج = استعلام يحب(?شخص, "برمجة")?
    لكل س في النتائج: { اطبع(س["?شخص"]) }
}
```

---

## 5. القواعد البسيطة (Rules)

### 5.1 قاعدة بسيطة
```bayan
هجين {
    أب("أحمد", "محمد").
    أب("محمد", "علي").

    جد(?سلف, ?خلف) :- أب(?سلف, ?متوسط), أب(?متوسط, ?خلف).

    اطبع(استعلام جد("أحمد", ?من?) )
}
```

### 5.2 قاعدة مع شرط
```bayan
هجين {
    ذكر("أحمد"). ذكر("محمد"). أنثى("فاطمة").
    أب("أحمد", "محمد"). أب("أحمد", "فاطمة").

    ابن(?شخص, ?والد) :- أب(?والد, ?شخص), ذكر(?شخص).
    ابنة(?شخص, ?والد) :- أب(?والد, ?شخص), أنثى(?شخص).
}
```

### 5.3 قواعد متعددة لنفس الرأس
```bayan
هجين {
    ذكر("أحمد"). ذكر("محمد"). أنثى("فاطمة"). أنثى("سارة").

    شخص(?س) :- ذكر(?س).
    شخص(?س) :- أنثى(?س).

    النتائج = استعلام شخص(?فرد)?
    لكل س في النتائج: { اطبع(س["?فرد"]) }
}
```

> التالي: [PART2](03_LOGIC_PROGRAMMING_AR_PART2.md)
