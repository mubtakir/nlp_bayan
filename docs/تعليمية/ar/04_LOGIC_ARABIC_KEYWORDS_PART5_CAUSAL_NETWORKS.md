# المنطق في لغة البيان (٥): الشبكات السببية (محرك العلاقات السبب–نتيجة)

<div dir="rtl">

> في هذا الجزء ندخل إلى واحدة من **أقوى الميزات الجديدة** في البيان:
> **محرك الشبكات السببية** الذي يسمح لك بتمثيل عالم من الأسباب والنتائج في أي مجال (اجتماعي، مهني، نفسي، علمي…).
> 
> سنلتزم بالعربية في الأسماء والبيانات، مع استخدام أسماء أوامر المحرك كما هي (`create_network`, `add_node`, `add_causal_relation`, ...)
> لأنها تُنفّذ من نواة البيان نفسها.

## ١. ما هي الشبكة السببية؟

الشبكة السببية تتكون من:

- **عُقد (Nodes)** تمثّل أشياء أو حالات:
  - أشخاص: "صديق"، "كاذب"، "قائد".
  - حالات: "ثقة"، "احترام"، "تعاون"، "نجاح_مشترك".
- **علاقات سببية** بين العقد:
  - "صدق" **يؤدي إلى** "ثقة".
  - "ثقة" **تُمكّن** "احترام".
  - "احترام" **يعزز** "تعاون".
  - "تعاون" **يؤدي إلى** "نجاح_مشترك".

كأنك ترسم خريطة: من السبب إلى النتيجة، مع قوة ارتباط (رقم بين 0 و 1).

## ٢. إنشاء شبكة سببية عربية بسيطة

### ٢.١ إنشاء شبكة "العلاقات المهنية"

```bayan
هجين {
    # إنشاء شبكة للمجال المهني
    create_network("work_rel", "شبكة العلاقات المهنية", "professional");
}
```

- `"work_rel"`: معرف الشبكة (نختاره بحرّية).
- `"شبكة العلاقات المهنية"`: اسم عربي للشبكة.
- المجال `"professional"` يشير إلى أن هذه الشبكة في مجال المهن والعمل.

### ٢.٢ إضافة عُقد عربية

```bayan
هجين {
    create_network("work_rel", "شبكة العلاقات المهنية", "professional");

    # أشخاص وحالات وسلوكيات
    add_node("work_rel", "صدق", "behavior", "سلوك");
    add_node("work_rel", "ثقة", "state", "حالة");
    add_node("work_rel", "احترام", "state", "حالة");
    add_node("work_rel", "تعاون", "behavior", "سلوك");
    add_node("work_rel", "نجاح_مشترك", "state", "حالة");
}
```

- الأسماء (`"صدق"`, `"ثقة"`, ...) عربية.
- الأنواع (`"behavior"`, `"state"`) تُحدد نوع العقدة في المحرك.

### ٢.٣ إضافة العلاقات السببية العربية

```bayan
هجين {
    create_network("work_rel", "شبكة العلاقات المهنية", "professional");

    add_node("work_rel", "صدق", "behavior", "سلوك");
    add_node("work_rel", "ثقة", "state", "حالة");
    add_node("work_rel", "احترام", "state", "حالة");
    add_node("work_rel", "تعاون", "behavior", "سلوك");
    add_node("work_rel", "نجاح_مشترك", "state", "حالة");

    # العلاقات السببية (مع قوة تقريبية)
    add_causal_relation("work_rel", "صدق", "ثقة", "causes", "0.9");
    add_causal_relation("work_rel", "ثقة", "احترام", "leads_to", "0.8");
    add_causal_relation("work_rel", "احترام", "تعاون", "enhances", "0.85");
    add_causal_relation("work_rel", "تعاون", "نجاح_مشترك", "causes", "0.9");
}
```

- أنواع العلاقات (`"causes"`, `"leads_to"`, `"enhances"`) هي أنواع مدعومة في المحرك.
- كل علاقة لها **قوة** بين 0 و 1 تعبر عن مدى ثبات هذا الارتباط.

## ٣. الاستدلال السببي: من السبب إلى النتيجة

### ٣.١ اكتشاف المسار من "صدق" إلى "نجاح_مشترك"

```bayan
هجين {
    create_network("work_rel", "شبكة العلاقات المهنية", "professional");
    # ... (إضافة العقد والعلاقات كما في المثال السابق) ...

    # الاستدلال: إيجاد سلسلة سببية من صدق إلى نجاح_مشترك
    infer_causal_chain("work_rel", "صدق", "نجاح_مشترك", "5");
}
```

- الدالة `infer_causal_chain` تبحث عن سلسلة مثل:

  `صدق → ثقة → احترام → تعاون → نجاح_مشترك`

- العدد `"5"` هو أقصى طول للسلسلة (أقصى عدد خطوات نسمح به).

### ٣.٢ معرفة كل ما يتأثّر بالصدق

```bayan
هجين {
    create_network("work_rel", "شبكة العلاقات المهنية", "professional");
    # ... (العقد والعلاقات) ...

    # إيجاد كل التأثيرات حتى عمق ٣ خطوات
    find_all_effects("work_rel", "صدق", "3");
}
```

- `find_all_effects` تعطيك **كل العقد** التي تقع بعد "صدق" في الشبكة حتى عمق معيّن.

### ٣.٣ معرفة كل الأسباب لحدث معيّن

```bayan
هجين {
    create_network("work_rel", "شبكة العلاقات المهنية", "professional");
    # ...

    # ما الأسباب التي تقود إلى نجاح_مشترك؟
    find_all_causes("work_rel", "نجاح_مشترك", "3");
}
```

- هنا نستكشف كل ما قبل "نجاح_مشترك" في الشبكة حتى عمق ٣.

## ٤. مثال مختصر: شبكة سبب–نتيجة لحياة دراسية

```bayan
هجين {
    create_network("study", "شبكة الحياة الدراسية", "professional");

    add_node("study", "دراسة", "behavior", "سلوك");
    add_node("study", "فهم", "state", "حالة");
    add_node("study", "علامة_مرتفعة", "state", "حالة");
    add_node("study", "منحة", "state", "حالة");

    add_causal_relation("study", "دراسة", "فهم", "causes", "0.9");
    add_causal_relation("study", "فهم", "علامة_مرتفعة", "causes", "0.85");
    add_causal_relation("study", "علامة_مرتفعة", "منحة", "leads_to", "0.8");

    # استنتاج مسار النجاح
    infer_causal_chain("study", "دراسة", "منحة", "4");
}
```

- كل الأسماء عربية.
- يمكن للمحرك هنا أن يعرض سلسلة مثل:

  `دراسة → فهم → علامة_مرتفعة → منحة`

## ٥. خلاصة هذا الجزء

- تعرّفنا على **محرك الشبكات السببية** في البيان وكيف يمثّل:
  - عُقدًا عربية (أشخاص، حالات، سلوكيات…)
  - وعلاقات سببية (causes, leads_to, enhances, ...).
- رأينا كيف نبني شبكة بسيطة للعلاقات المهنية، وكيف نستنتج:
  - المسار من سبب إلى نتيجة (`infer_causal_chain`).
  - كل التأثيرات لسبب معيّن (`find_all_effects`).
  - كل الأسباب لنتيجة معيّنة (`find_all_causes`).
- هذا الأساس سيسهّل لاحقًا ربط الشبكات السببية مع:
  - **الكيانات** وحالاتها.
  - **الاستدلال الاحتمالي** (قوة العلاقات يمكن أن تُفسّر احتماليًا).
  - **النموذج الأوسع** للفكرة–الحدث–النتيجة وطبقات Conceptual LM.

في الجزء التالي سننتقل إلى **الكيانات والمعادلات والمشغلات اللغوية** وكيف تتفاعل مع المنطق والاحتمالات والشبكات السببية.

</div>

