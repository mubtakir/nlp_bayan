# المنطق في لغة البيان (١٠): طبقات ما قبل النموذج اللغوي (Conceptual LM)

<div dir="rtl">

> في هذا الجزء نربط بين كل ما سبق (الكيانات، الأحداث، الشبكات السببية، الشبكات الدلالية، الاحتمالات)
> وبين **طبقات ما قبل النموذج اللغوي** التي تسمّى في البيان: **Conceptual LM**.
>
> هذه الطبقات تعمل على «المعنى الخام» (أثر تصوّري) قبل أن نقرر كيف نكتبه عربيًا أو إنجليزيًا.

---

## ١. من العالم إلى «أثر تصوّري» واحد

البيان يفترض أن النظام (كيانات، حالات، أحداث، تحوّلات، احتمالات، أسباب…) ينتج في النهاية
**أثرًا تصوّريًا موحّدًا** `conceptual_trace`:

- قائمة كيانات: أشخاص، أشياء، مؤسسات...
- حالات وخصائص لكل كيان (مثلًا: «سعادة أحمد = 0.7»).
- أحداث (مثلًا: «أحمد يذاكر»، «دواء يؤثّر على مرض»).
- تحوّلات حالات (قبل/بعد).
- وصلات سببية بين الأحداث.

هذا `conceptual_trace` لا يهتم بعدُ بالصياغة العربية أو الإنجليزية؛ هو **تمثيل معنوي فقط**.

---

## ٢. قوالب تصوّرية (Conceptual Blueprints)

يأتي بعد ذلك ملف مثل `ai/conceptual_blueprints.bayan` الذي يعرّف **قوالب للمعنى**:

- `Generic_Interaction_Event` (حدث تفاعل عام).
- `State_Change_Template` (تغيّر حالة على محور بين 0..1).
- `Basic_Cause_Effect` (سبب ونتيجة).
- وغيرها من الأنماط: عدم يقين، وصف، شدة، مقارنة، ترتيب زمني...

### ٢٫١ مثال من ملف القوالب

القالب التالي يعبّر عن «حدث تفاعل» بشكل عام:

```bayan
تصور_عام Generic_Interaction_Event {
    نوع: "EventPattern"
    أدوار: {
        "Actor":      { "kind": "entity" },
        "Target":     { "kind": "entity",  "optional": True },
        "ActionKind": { "kind": "action" },
        "Context":    { "kind": "context" }
    }
    قوالب_لغوية: ["ActionSentencePattern"]
}
```

الفكرة:

- `Actor`: الفاعل (كيان).
- `Target`: هدف الفعل (اختياري).
- `ActionKind`: نوع الفعل (دراسة، علاج، استثمار...).
- `Context`: سياق (زمن، مكان، حالة عامة).
- `قوالب_لغوية`: تخبر الطبقات اللاحقة أن هذا يصلح لجملة «فعلية» (ActionSentence).

قالب آخر يعبّر عن تغيّر حالة:

```bayan
تصور_عام State_Change_Template {
    نوع: "StatePattern"
    أدوار: {
        "Entity":      { "kind": "entity" },
        "PropertyAxis":{ "kind": "axis" },
        "BeforeValue": { "kind": "value", "range": [0,1] },
        "AfterValue":  { "kind": "value", "range": [0,1] }
    }
    قوالب_لغوية: ["StateChangeSentencePattern"]
}
```

هذا يربط مباشرة بمحاور الحالة التي رأيناها في الكيانات (مثل «سعادة» بين 0 و1).

---

## ٣. الجسر اللغوي التصوّري (Conceptual Language Bridge)

بعد مطابقة `conceptual_trace` مع قوالب مثل `Generic_Interaction_Event` أو
`State_Change_Template`، تأتي مرحلة **الجسر اللغوي**:

- ملفات مثل `ai/conceptual_language_bridge.bayan` تعرّف كيف نحول
  *النمط التصوّري* إلى **نمط جملة تصوّري**:
  - `ActionSentence`
  - `StateChangeSentence`
  - `CausalSentence`
  - `UncertaintySentence` ...

لا تزال هذه المرحلة **لا تختار كلمات عربية أو إنجليزية**؛ فقط تقول:

> لدينا جملة «فعلية» فاعلها كذا، وهدفها كذا، ومضمون الفعل كذا، وسياقها كذا.

---

## ٤. التخطيط السطحي وشجرة الجملة

بعد الجسر اللغوي تأتي طبقتان:

1. **مخطِّط سطحي** `ai/conceptual_surface_planner.bayan`:
   - يقرر ترتيب الأدوار حسب اللغة:
     - في الإنجليزية: Subject-Verb-Object (SVO).
     - في العربية: غالبًا Verb-Subject-Object (VSO) في الجملة الفعلية.
   - يقرر أين تُذكر الظروف (الزمن، المكان، السبب...).

2. **شجرة الجملة** `ai/conceptual_sentence_tree.bayan`:
   - يبني شجرة رمزية تمثل:
     - نوع الجملة (فعلية، اسمية، شرطية...).
     - العقد (فعل، فاعل، مفعول، ظرف...).

في هذه المرحلة يصبح لدينا **بنية جملة جاهزة لغويًا** (معرفة المواقع)،
لكن ما زال اختيار الألفاظ الدقيقة والمرادفات النهائية يمكن أن يستفيد من:

- طبقة المرادفات والتقارب (الجزء 9).
- النموذج اللغوي الرمزي `ai/nlp` و`nlp_bayan`.

---

## ٥. دوائر تصوّرية وبرامج معاني (Conceptual Circuits & Programs)

يوجد فوق هذه الطبقات ملفات مثل:

- `ai/conceptual_circuits.bayan`
- `ai/conceptual_programs.bayan`
- `ai/conceptual_orchestrator.bayan`
- `ai/conceptual_nl_mapper.bayan`

هذه تمثّل **دوائر منطقية/تصوّرية** وبرامج معنى أعلى مستوى، مثلًا:

- سيناريو «طالب يذاكر مادة بجهد معيّن مع مرور الوقت».
- سيناريو «علاج طبي مع عدم اليقين في النتيجة».
- سيناريو «استثمار مالي مع مخاطرة وعائد متوقَّع».

كل برنامج معنى يستخدم:

1. الكيانات والحالات والأحداث والعلاقات السببية.
2. يبني `conceptual_trace` غنيًّا.
3. يمرره عبر القوالب التصوّرية + الجسر اللغوي + التخطيط السطحي.
4. يستعين بالمرادفات والتشابه والنموذج اللغوي لاختيار أفضل صياغة.

---

## ٦. ملخص المسار من المنطق إلى اللغة

يمكنك تخيّل السلسلة كلها على شكل طبقات:

1. **منطق + كيانات + احتمالات + أسباب + شبكات دلالية**
   (الأجزاء 1–8 + الجزء 7 للكيانات المتقدمة).
2. **طبقة المرادفات والتقارب** (الجزء 9):
   - `similar/5`, `close/3`, `synonym/3`, DSL المترادفات.
3. **أثر تصوّري موحّد** `conceptual_trace`.
4. **قوالب تصوّرية** (blueprints) مثل `Generic_Interaction_Event`.
5. **الجسر اللغوي التصوّري** → أنماط جمل تصوّرية.
6. **التخطيط السطحي + شجرة الجملة** حسب اللغة (عربية/إنجليزية).
7. **النموذج اللغوي الرمزي + التوليد** (استعمال المرادفات، التشابه، n-grams...).

بهذا ترى أن **المنطق والكيانات والشبكات السببية والدلالية** لا تعيش منفصلة،
بل تُغذّي طبقة Conceptual LM التي تبقى **قبل النموذج اللغوي**،
وتعمل على الأثر التصوّري ثم تسلّمه تدريجيًا إلى طبقات اللغة السطحية.
## ٧. مثال كامل: من كيان طالب إلى جملة عربية

تخيّل السيناريو التالي الذي يجمع ما تعلّمناه في الأجزاء السابقة:

- في طبقة الكيانات (الجزء ٦ و٧):
  - كيان `طالب` بحالات مثل "تركيز" و"تعب".
  - فعل "درس" يرفع التركيز ويزيد التعب بنِسَب تعتمد على `power` و`sensitivity`.
- في الشبكة السببية (الجزء ٥):
  - "دراسة" → "فهم" → "علامة_مرتفعة" → "منحة".
- في البرمجة الدلالية (الجزء ٨):
  - معلومة عن الطالب: أي مادة يدرس، وفي أي مكان وزمن.

عند تشغيل برنامج معنى من ملفات Conceptual LM:

1. تُجمع حالة الطالب والأحداث والروابط السببية في `conceptual_trace` واحد.
2. يُطابَق هذا الأثر مع قالب مثل `Generic_Interaction_Event` و`State_Change_Template`.
3. الجسر اللغوي يبني تمثيلًا لجملة فعلية عربية: فاعل = الطالب، فعل = الدراسة، مفعول = مادة الرياضيات، سياق = في المكتبة مساءً.
4. المخطِّط السطحي وشجرة الجملة يقرّران ترتيب العناصر (فعل → فاعل → مفعول → ظرف).
5. طبقة المترادفات والتشابه (الجزء ٩) والنموذج اللغوي تختار الصياغة الأنسب بين بدائل مثل:
   - «يذاكر الطالب مادة الرياضيات بجدّ في المكتبة مساءً.»
   - «يقوم الطالب بدراسة الرياضيات في المكتبة بتركيز عالٍ.»

بهذا المثال ترى كيف تنتقل **الأرقام والحالات والاحتمالات والعلائق السببية** التي عرفناها في الأجزاء (١–٩)
إلى **جملة عربية مفهومة** عبر طبقات Conceptual LM قبل أن يتدخل أي نموذج لغوي تقليدي.


</div>

